(()=>{"use strict";var n={112:(n,t)=>{var r=["key","ref"],e=["key","ref"];function u(n){return function(n){if(Array.isArray(n))return i(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||o(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,u,l=[],o=!0,i=!1;try{for(r=r.call(n);!(o=(e=r.next()).done)&&(l.push(e.value),!t||l.length!==t);o=!0);}catch(n){i=!0,u=n}finally{try{o||null==r.return||r.return()}finally{if(i)throw u}}return l}}(n,t)||o(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n,t){if(n){if("string"==typeof n)return i(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(n,t):void 0}}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function a(n,t){if(null==n)return{};var r,e,u=function(n,t){if(null==n)return{};var r,e,u={},l=Object.keys(n);for(e=0;e<l.length;e++)r=l[e],t.indexOf(r)>=0||(u[r]=n[r]);return u}(n,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(e=0;e<l.length;e++)r=l[e],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(u[r]=n[r])}return u}function c(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function f(n){return"string"==typeof n||n instanceof String}function h(n){return"number"==typeof n||n instanceof Number}function s(n){return n instanceof Function}function v(n){return n instanceof Array}function d(n){return null==n}var p=null,y=-1;function g(){if(null===p)throw new Error("Cannot call hooks from outside of the component");return[p,++y]}function m(n){this.current=n}function b(n,t,r,e){this.t=n,this.o=t,this.u=r,this.l=e,this.i=[],this.h=null,this.p=[],this.m=[],this.v=null,this.g=null,this.M=null,this.k=null}function w(n,t){n.M=t,n.l instanceof m&&(n.l.current=t)}function x(n){if(n instanceof b)return n;if(f(n)||h(n)){var t=new b("#",{},null,null);return t.g=n,t}if(v(n)){for(var r=new b("[",{},null,null),e=-1,u=0;u<n.length;u++){var l=x(n[u]);null!==l&&A(r,l,++e)}return r}return null}function A(n,t,r){t.h=n,t.v=r,n.p[r]=t}function k(n,t){for(var e=t.key,u=void 0===e?null:e,l=t.ref,o=void 0===l?null:l,i=a(t,r),c=new b(n,i,u,o),f=-1,h=0;h<(arguments.length<=2?0:arguments.length-2);h++){var s=x(h+2<2||arguments.length<=h+2?void 0:arguments[h+2]);null!==s&&A(c,s,++f)}return c}function S(n){return n.join("/")}var C=0,j=0;function O(n){return c(n,"hook_cid")||(n.hook_cid="~"+(++j).toString(36)),n.hook_cid}function N(n){return c(n,"hook_alias")||(n.hook_alias="{"+(++C).toString(36)),n.hook_alias}function M(n,t){n.hook_vnode=t}var E=new Map;function T(n,t,r){for(var e in r)c(r,e)&&d(t[e])&&I(n,e,r[e]);for(var u in t)c(t,u)&&_(n,u,t[u],r[u])}function I(n,t,r){var e=l(J(t,r),2),u=e[0];d(e[1])||n.removeAttribute(u)}function _(n,t,r,e){var u=l(J(t,r),2),o=u[0],i=u[1];if(!d(i))if("style"!==o){if((f(i)||h(i))&&n.setAttribute(o,i),o in n)try{n[o]=i}catch(n){}}else{if(!d(e)){var a=l(J(t,e),2)[1];if(!d(a))for(var s in a)c(a,s)&&!c(i,s)&&(n.style[s]="")}for(var v in i)c(i,v)&&(d(i[v])||(n.style[v]=i[v]))}}function J(n,t){return s(t)?[n.toLowerCase(),t]:"className"===n?v(t)?["class",t.filter((function(n){return f(n)})).join(" ")]:["class",t]:"class"===n?(console.error("className instead of class"),[n]):"style"!==n||d(t)||function(n){return!!n&&n.constructor===Object}(t)?[n,t]:(console.error("Style must be a plain object",t),[n])}function D(n){"svg"===n.t?n.k="svg":null!==n.h?n.k=n.h.k:n.k="html";var t,r=null;if("#"===n.t)t=n.g,r=document.createTextNode(t);else if("<"===n.t||"["===n.t);else if(f(n.t)){var e=null;"svg"===n.k&&(e="http://www.w3.org/2000/svg"),r=function(n,t,r){var e=null!==n?document.createElementNS(n,t):document.createElement(t);return T(e,r,{}),e}(e,n.t,n.o),M(r,n)}w(n,r);for(var u=0;u<n.p.length;u++)D(n.p[u])}function L(n,t){for(var r=t&&U(t)[0]||null,e=0;e<n.length;e++){var u=n[e];if(null!==u.M){var l=B(u);null!==l&&(null!==r&&l===r.parentNode?l.insertBefore(u.M,r):l.appendChild(u.M))}}}function B(n){return null===n.h?null:null===n.h.M?B(n.h):n.h.M}function U(n){if(null!==n.M)return[n.M];for(var t=[],r=0;r<n.p.length;r++){var e=n.p[r];t.push.apply(t,u(U(e)))}return t}function P(n,t,r){this.j=R,this._=n,this.C=t,this.N=null,this.O=r}var R=0;function W(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===n.O||t?null!==n.N&&n.N():n.O()}function Y(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===n?1:0===n.length?2:!1===t||function(n,t){for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}(n,t)?3:4}function $(n,t){var r=l(t?[new Map,new Map]:F(n),2),e=r[0],u=r[1];z(n);var o=l(F(n),2),i=o[0],a=o[1];!function(n,t){n.forEach((function(n,r){var e=!t.has(r);!function(n,t){for(var r=0;r<n.i.length;r++){var e=n.i[r];e instanceof P&&(null!==e.O||null!==e.N)&&(t||1===e.j||4===e.j)&&W(e,t)}}(n,e),e&&function(n){var t=S(n);E.delete(t)}(n.m)}))}(u,a),D(n),function(n,t){!function(n,t){var r="";n.forEach((function(n,e){if(t.has(e)){var u=t.get(e);w(u,n.M),"#"===u.t?u.g!==n.g&&(l=u.M,o=u.g,l.textContent=o):T(u.M,u.o,n.o)}else e.startsWith(r+"/")||(function(n){for(var t=U(n),r=0;r<t.length;r++){var e=t[r];null!==e.parentNode&&e.parentNode.removeChild(e)}}(n),r=e);var l,o}))}(n,t),function(n,t){var r=[];t.forEach((function(t,e){n.has(e)?(L(r,n.get(e)),r.length=0):r.push(t)})),r.length>0&&L(r,null)}(n,t)}(e,i),function(n,t){t.forEach((function(t,r){!function(n,t){for(var r=0;r<n.i.length;r++){var e=n.i[r];e instanceof P&&(t||1===e.j||4===e.j)&&((u=e).N=u._())}var u}(t,!n.has(r))}))}(u,a)}function z(n){if("#"!==n.t)if(s(n.t)){p=n,y=-1;var t=x(n.t(n.o));p=null,y=-1,null!==t&&(A(n,t,0),q(n),z(t))}else for(var r=0;r<n.p.length;r++)z(n.p[r])}function F(n){var t=new Map,r=new Map;return G(n,r,t),[t,r]}function G(n,t,r){s(n.t)?t.set(S(n.m),n):"["!==n.t&&"<"!==n.t&&r.set(S(n.m),n);for(var e=0;e<n.p.length;e++)G(n.p[e],t,r)}function V(n,t){var r=this;this.S=n,this.A=t,this.D=function(n){var t;(t=s(n)?n(r.A):n)!==r.A&&(r.A=t,$(r.S,!1))}}function q(n){for(var t=0;t<n.p.length;t++)H(n.p[t],n.m)}function H(n,t){var r,e=u(t);if(null!==n.u?e.push((r=n.u,"@"+encodeURIComponent(r))):e.push(n.v),s(n.t)?e.push(N(n.t)):e.push(n.t),n.m=e,s(n.t)){var l=function(n){var t=S(n);return E.has(t)?E.get(t):null}(n.m);if(null!==l){n.i=l;for(var o=0;o<n.i.length;o++){var i=n.i[o];i instanceof V&&(i.S=n)}}!function(n,t){var r=S(n);E.set(r,t)}(n.m,n.i)}for(var a=0;a<n.p.length;a++)H(n.p[a],e)}t.h=function(n,t){for(var r=arguments.length,u=new Array(r>2?r-2:0),l=2;l<r;l++)u[l-2]=arguments[l];return t=t||{},null===n?k.apply(void 0,["<",t].concat(u)):s(n)?function(n,t){for(var r=t.key,u=void 0===r?null:r,l=t.ref,o=void 0===l?null:l,i=a(t,e),c=arguments.length,f=new Array(c>2?c-2:0),h=2;h<c;h++)f[h-2]=arguments[h];return i.children=f,new b(n,i,u,o)}.apply(void 0,[n,t].concat(u)):k.apply(void 0,[n,t].concat(u))},t.LI=function(n,t){if(t.firstChild)throw new Error("Container must be empty");var r=x(n),e=new b(t.nodeName.toLowerCase(),{},null,null);e.m=[O(t)],e.k=t.ownerSVGElement?"svg":"html",w(e,t),M(t,e),A(e,r,0),q(e),$(r,!0)},t.d4=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=g(),e=l(r,2),u=e[0],o=e[1];if(u.i.length>o){var i=u.i[o];if((null!==t||null!==i.C)&&t.length!==i.C.length)throw new Error("Deps must be size-fixed");var a=Y(t,i.C);if(2===a)return;if(3===a)return void(i.j=a);if(1===a||4===a){var c=new P(n,t,i.N);return c.j=a,void(u.i[o]=c)}}else{var f=new P(n,t,null);f.j=Y(t),u.i.push(f)}},t.sO=function(n){var t=l(g(),2),r=t[0],e=t[1];if(r.i.length>e)return r.i[e];var u=new m(n);return r.i.push(u),u},t.eJ=function(n){var t=l(g(),2),r=t[0],e=t[1];if(r.i.length>e){var u=r.i[e];return[u.A,u.D]}var o=new V(r,n);return r.i.push(o),[o.A,o.D]}}},t={};function r(e){var u=t[e];if(void 0!==u)return u.exports;var l=t[e]={exports:{}};return n[e](l,l.exports,r),l.exports}(()=>{var n=r(112);function t(n,t){return i(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,u,l=[],o=!0,i=!1;try{for(r=r.call(n);!(o=(e=r.next()).done)&&(l.push(e.value),!t||l.length!==t);o=!0);}catch(n){i=!0,u=n}finally{try{o||null==r.return||r.return()}finally{if(i)throw u}}return l}}(n,t)||l(n,t)||u()}function e(n){return i(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||l(n)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(n,t){if(n){if("string"==typeof n)return o(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(n,t):void 0}}function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function i(n){if(Array.isArray(n))return n}function a(t){var r=t.text,u=t.setText;return e((0,n.eJ)(1)),(0,n.d4)((function(){return function(){}}),[]),(0,n.d4)((function(){return function(){}}),[r]),(0,n.h)("div",{className:"Cat"},(0,n.h)(s,null,(0,n.h)("span",null,"Ad name: "),(0,n.h)("input",{type:"text",value:r,onInput:function(n){return u(n.target.value)}})))}function c(r){var e=r.text,u=r.setText,l=t((0,n.eJ)("gruuu"),2),o=l[0],i=l[1];return(0,n.d4)((function(){return function(){}}),[]),(0,n.d4)((function(){return function(){}}),[e]),(0,n.h)("div",{className:"Dog"},(0,n.h)(s,null,(0,n.h)("span",null,"Ad name: "),(0,n.h)("input",{type:"text",value:e,onChange:function(n){return u(n.target.value)}})),(0,n.h)("br",null),(0,n.h)(s,null,"Speak:"," ",(0,n.h)("input",{value:o,onChange:function(n){return i(n.target.value)}})))}function f(t){var r=t.layout,u=t.text,l=t.setText;return e((0,n.eJ)()),(0,n.d4)((function(){return function(){}}),[]),(0,n.h)("div",{className:"Bird"},"dog"===r&&(0,n.h)(c,{text:u,setText:l}),"cat"===r&&(0,n.h)(a,{text:u,setText:l}))}function h(r){var e=r.count,u=r.setCount,l=t((0,n.eJ)("cat"),2),o=l[0],i=l[1],h=t((0,n.eJ)("unnamed"),2),v=h[0],d=h[1],p=(0,n.sO)(null);return(0,n.d4)((function(){return function(){}}),[]),(0,n.d4)((function(){return function(){}})),(0,n.d4)((function(){return function(){}}),[o,v]),(0,n.h)("form",{className:"YourAd",style:{padding:"16px",border:"1px solid #ccc"}},(0,n.h)("div",null,(0,n.h)("span",null,"Your Ad: ",v)),(0,n.h)("br",null),(0,n.h)("div",null,(0,n.h)("select",{ref:p,onChange:function(n){return i(n.target.value)}},(0,n.h)("option",{value:"cat",selected:"cat"===o},"Layout Cat"),(0,n.h)("option",{value:"dog",selected:"dog"===o},"Layout Dog"))),(0,n.h)("br",null),(0,n.h)(s,null,"cat"===o&&(0,n.h)(s,{key:"#hehe/hahaha mm"},(0,n.h)("br",null),(0,n.h)("div",null,"This is cat layout."),(0,n.h)(a,{text:v,setText:d})),"dog"===o&&(0,n.h)(s,null,(0,n.h)("div",null,"This is not default layout, update from ancestor might reset the state of this part if tree updating logic not correct."),(0,n.h)("br",null),(0,n.h)(c,{text:v,setText:d}))),(0,n.h)("br",null),(0,n.h)(s,null,(0,n.h)("div",null,(0,n.h)("strong",null,(0,n.h)("i",null,"This is Bird container"))),(0,n.h)("br",null),(0,n.h)(f,{layout:o,text:v,setText:d})),(0,n.h)("br",null),(0,n.h)("div",null,(0,n.h)("button",{type:"button",onClick:function(){u((function(n){return n+1}))}},"Update count")," ",(0,n.h)("span",null,"Re-renders:",e)))}function s(t){var r=t.children;return(0,n.h)("div",{className:"Wrapper"},r)}function v(){var r=t((0,n.eJ)(1),2),e=r[0],u=r[1],l=(0,n.sO)(null);return(0,n.d4)((function(){return function(){}})),(0,n.h)("article",{className:"MyAd"},[!1,1,2,[4,5]," Count: ",e],(0,n.h)(s,null,(0,n.h)("inner",null,(0,n.h)("my-div",null,(0,n.h)("love-div",null,(0,n.h)("test-div",null,(0,n.h)("a",null,"link"),(0,n.h)(s,null,(0,n.h)(s,null,(0,n.h)(s,null,"test",(0,n.h)(s,null,(0,n.h)(h,{ref:l,count:e,setCount:u}))))))),(0,n.h)("b",null,(0,n.h)("i",null,"hehe"))))))}function d(){var r=t((0,n.eJ)(!0),2),e=r[0],u=r[1];return(0,n.h)(null,null,(0,n.h)("paragraph",null,(0,n.h)("input",{type:"checkbox",checked:e,onChange:function(n){return u((function(n){return!n}))}}),(0,n.h)("h2",null,"Demo"),"hello",e&&(0,n.h)(v,null)))}function p(){return(0,n.h)(d,null)}console.time("stack"),(0,n.LI)((0,n.h)((function(){return(0,n.h)("hh-ff",null,(0,n.h)(p,null))}),null),document.getElementById("sandbox-container")),console.timeEnd("stack")})()})();