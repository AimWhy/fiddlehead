(()=>{"use strict";var n={112:(n,t,r)=>{var e=["key","ref"];function o(n,t){if(null==n)return{};var r,e,o=function(n,t){if(null==n)return{};var r,e,o={},u=Object.keys(n);for(e=0;e<u.length;e++)r=u[e],t.indexOf(r)>=0||(o[r]=n[r]);return o}(n,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(e=0;e<u.length;e++)r=u[e],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function u(n){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u(n)}function l(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,u=[],l=!0,i=!1;try{for(r=r.call(n);!(l=(e=r.next()).done)&&(u.push(e.value),!t||u.length!==t);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return u}}(n,t)||i(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,t){if(n){if("string"==typeof n)return a(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(n,t):void 0}}function a(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var f=null,c=-1;function h(){if(null===f)throw new Error("Cannot call hooks from outside of the component");return[f,++c]}function s(n){this.current=n}function v(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function d(n){return"string"==typeof n||n instanceof String}function p(n){return"number"==typeof n||n instanceof Number}function y(n){return n instanceof Function}function g(n){return n instanceof Array}function m(n){return null==n}function b(n){this.t=n,this.o={},this.u=null,this.i=null,this.l=[],this.h=null,this.p=[],this.v="",this.m=null,this.g=null,this._=null,this.j=n===S||n===w?C:y(n)?A:x}var w="[",S="=",x=0,A=1,C=2,k=function(n){return n.children},j=0,O=0;function N(n,t){n.g=t,n.i instanceof s&&(n.i.current=t)}function T(n){var t=null;return n instanceof b?t=n:d(n)||p(n)?(t=new b("#")).o.children=n:g(n)&&I(t=new b(w),n),t}function E(n,t,r){t.h=n,t.m=r,n.p[r]=t}function I(n,t){for(var r,e=-1,o=0,u=t.length;o<u;++o)null!==(r=T(t[o]))&&E(n,r,++e)}var _=new Map;function J(n,t,r){for(var e in r)v(r,e)&&m(t[e])&&M(n,e,r[e]);for(var o in t)v(t,o)&&D(n,o,t[o],r[o])}function M(n,t,r){var e=l(F(t,r),2),o=e[0];m(e[1])||n.removeAttribute(o)}function D(n,t,r,e){var o=l(F(t,r),2),u=o[0],i=o[1];if(!m(i))if("style"!==u){if((d(i)||p(i))&&n.setAttribute(u,i),u in n)try{n[u]=i}catch(n){}}else{if(!m(e)){var a=l(F(t,e),2)[1];if(!m(a))for(var f in a)v(a,f)&&!v(i,f)&&(n.style[f]="")}for(var c in i)v(i,c)&&(m(i[c])||(n.style[c]=i[c]))}}function F(n,t){return y(t)?[n.toLowerCase(),t]:"className"===n?g(t)?["class",t.filter((function(n){return d(n)})).join(" ")]:["class",t]:"class"===n?[n]:"style"!==n||m(t)||function(n){return null!==n&&"object"==u(n)}(t)?[n,t]:[n]}function L(n){var t=function(n){return"#"===n.t?(t=n.o.children,document.createTextNode(t)):function(n,t,r){var e=1===n?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return J(e,r,{}),e}(n._,n.t,n.o);var t}(n);N(n,t)}function B(n,t){0===n.size?function(n){var t;n.forEach((function(n){null!==(t=G(n))&&(L(n),t.appendChild(n.g))}))}(t):(function(n,t){var r,e="";n.forEach((function(n,o){var u,l;t.has(o)?(N(r=t.get(o),n.g),"#"===r.t?r.o.children!==n.o.children&&(u=r.g,l=r.o.children,u.textContent=l):J(r.g,r.o,n.o)):function(n,t){if(n.length<t.length)return!1;for(var r=t.length-1;r>=0;--r)if(t[r]!==n[r])return!1;return!0}(o,e+"/")||(function(n){for(var t,r=z(n),e=0,o=r.length;e<o;++e)null!==(t=r[e]).parentNode&&t.parentNode.removeChild(t)}(n),e=o)}))}(n,t),function(n,t){var r=[];t.forEach((function(t,e){n.has(e)?(U(r,n.get(e)),r.length=0):r.push(t)})),r.length>0&&U(r,null)}(n,t))}function U(n,t){for(var r,e,o=t&&P(t)||null,u=0,l=n.length;u<l;++u)null!==(e=G(r=n[u]))&&(L(r),null!==o&&e===o.parentNode?e.insertBefore(r.g,o):e.appendChild(r.g))}function G(n){return n.t===k?n.g:null===n.h?null:null===n.h.g?G(n.h):n.h.g}function P(n){if(null!==n.g)return n.g;for(var t=null,r=0,e=n.p.length;r<e&&null===t;++r)t=P(n.p[r]);return t}function z(n){if(null!==n.g)return[n.g];for(var t=[],r=0,e=n.p.length;r<e;++r)t.push.apply(t,function(n){if(Array.isArray(n))return a(n)}(o=z(n.p[r]))||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(o)||i(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var o;return t}function R(n,t,r){this.k=Y,this.M=n,this.O=t,this.C=null,this.N=r}var Y=0;function $(n){n.C=n.M(),void 0===n.C&&(n.C=null)}function V(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===n.N||t?null!==n.C&&n.C():n.N()}function W(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===n?1:0===n.length?2:!1===t||function(n,t){for(var r=n.length-1;r>=0;--r)if(n[r]!==t[r])return!1;return!0}(n,t)?3:4}function q(n){var t,r,e=function(n){var t=K();return Q(n,t),t}(n),o=function(n){var t=K();return H(n,t),t}(n);t=e.S,r=o.S,t.forEach((function(n,t){var e,o=!r.has(t);!function(n,t){for(var r,e=0,o=n.l.length;e<o;++e)(r=n.l[e])instanceof R&&(null!==r.N||null!==r.C)&&(t||1===r.k||4===r.k)&&V(r,t)}(n,o),o&&(e=n.v,_.delete(e))})),B(e.A,o.A),function(n,t){t.forEach((function(t,r){!function(n,t){for(var r,e=0,o=n.l.length;e<o;++e)(r=n.l[e])instanceof R&&(t||1===r.k||4===r.k)&&$(r)}(t,!n.has(r))}))}(e.S,o.S)}function H(n,t){if(n.j===A){t.S.set(n.v,n),f=n,c=-1;var r=T(n.t(n.o));f=null,c=-1,null!==r&&(E(n,r,0),Z(n))}else n.j===x&&t.A.set(n.v,n);for(var e=0,o=n.p.length;e<o;++e)H(n.p[e],t)}function K(){return{S:new Map,A:new Map}}function Q(n,t){n.j===A?t.S.set(n.v,n):n.j===x&&t.A.set(n.v,n);for(var r=0,e=n.p.length;r<e;++r)Q(n.p[r],t)}function X(n,t){var r=this;this.D=n,this.F=t,this.G=function(n){var t;(t=y(n)?n(r.F):n)!==r.F&&(r.F=t,q(r.D))}}function Z(n){for(var t=0,r=n.p.length;t<r;++t)nn(n.p[t],n.v)}function nn(n,t){var r,e;if(n.v=t+"/"+(null!==n.u?(r=n.u,"@"+encodeURIComponent(r)):n.m)+"/"+(n.j===A?function(n){return v(n,"hook_alias")?n.hook_alias:n.hook_alias="{"+(++j).toString(36)}(n.t):n.t),n.j===A){var o=(e=n.v,_.get(e)||null);if(null!==o){n.l=o;for(var u,l=0,i=n.l.length;l<i;++l)(u=n.l[l])instanceof X&&(u.D=n)}!function(n,t){_.set(n,t)}(n.v,n.l)}n._=function(n){return"svg"===n.t?1:1===n.h._&&"foreignObject"===n.h.t?0:n.h._}(n);for(var a=0,f=n.p.length;a<f;++a)nn(n.p[a],n.v)}r.g.false=!0,t.h=function(n,t){for(var r=t||{},u=r.key,l=void 0===u?null:u,i=r.ref,a=void 0===i?null:i,f=o(r,e),c=new b(n),h=arguments.length,s=new Array(h>2?h-2:0),v=2;v<h;v++)s[v-2]=arguments[v];return c.o=f,c.u=l,c.i=a,c.j===A?c.o.children=s.length>1?s:s[0]:I(c,s),c},t.LI=function(n,t){var r=function(n,t){var r;if(!(r=t.hook_vnode)){for(;t.firstChild;)t.removeChild(t.firstChild);(r=new b(k))._="ownerSVGElement"in t?1:0,N(r,t),function(n,t){n.hook_vnode=t}(t,r)}return r.o.children=n,r}(n,t);r.v=function(n){return v(n,"hook_rootid")?n.hook_rootid:n.hook_rootid="~"+(++O).toString(36)}(t),Z(r),q(r)},t.d4=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=h(),e=l(r,2),o=e[0],u=e[1];if(o.l.length>u){var i=o.l[u];if((null!==t||null!==i.O)&&t.length!==i.O.length)throw new Error("Deps must be size-fixed");var a=W(t,i.O);if(2===a)return;if(3===a)return void(i.k=a);if(1===a||4===a){var f=new R(n,t,i.C);return f.k=a,void(o.l[u]=f)}}else{var c=new R(n,t,null);c.k=W(t),o.l.push(c)}},t.sO=function(n){var t=l(h(),2),r=t[0],e=t[1];if(r.l.length>e)return r.l[e];var o=new s(n);return r.l.push(o),o},t.eJ=function(n){var t,r=l(h(),2),e=r[0],o=r[1];return e.l.length>o?t=e.l[o]:(t=new X(e,n),e.l.push(t)),[t.F,t.G]}}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var u=t[e]={exports:{}};return n[e](u,u.exports,r),u.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),(()=>{var n=r(112);function t(n,t){return i(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,u=[],l=!0,i=!1;try{for(r=r.call(n);!(l=(e=r.next()).done)&&(u.push(e.value),!t||u.length!==t);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return u}}(n,t)||u(n,t)||o()}function e(n){return i(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||u(n)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(n,t){if(n){if("string"==typeof n)return l(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(n,t):void 0}}function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function i(n){if(Array.isArray(n))return n}function a(t){var r=t.text,o=t.setText;return e((0,n.eJ)(1)),(0,n.d4)((function(){return function(){}}),[]),(0,n.d4)((function(){return function(){}}),[r]),(0,n.h)("div",{className:"Cat"},(0,n.h)(s,null,(0,n.h)("span",null,"Ad name: "),(0,n.h)("input",{type:"text",value:r,onInput:function(n){return o(n.target.value)}})))}function f(r){var e=r.text,o=r.setText,u=t((0,n.eJ)("gruuu"),2),l=u[0],i=u[1];return(0,n.d4)((function(){return function(){}}),[]),(0,n.d4)((function(){return function(){}}),[e]),(0,n.h)("div",{className:"Dog"},(0,n.h)(s,null,(0,n.h)("span",null,"Ad name: "),(0,n.h)("input",{type:"text",value:e,onChange:function(n){return o(n.target.value)}})),(0,n.h)("br",null),(0,n.h)(s,null,"Speak:"," ",(0,n.h)("input",{value:l,onChange:function(n){return i(n.target.value)}})))}function c(t){var r=t.layout,o=t.text,u=t.setText;return e((0,n.eJ)()),(0,n.d4)((function(){return function(){}}),[]),(0,n.h)("div",{className:"Bird"},"dog"===r&&(0,n.h)(f,{text:o,setText:u}),"cat"===r&&(0,n.h)(a,{text:o,setText:u}))}function h(r){var e=r.count,o=r.setCount,u=t((0,n.eJ)("cat"),2),l=u[0],i=u[1],h=t((0,n.eJ)("unnamed"),2),v=h[0],d=h[1],p=(0,n.sO)(null);return(0,n.d4)((function(){return function(){}}),[]),(0,n.d4)((function(){return function(){}})),(0,n.d4)((function(){return function(){}}),[l,v]),(0,n.h)("form",{className:"YourAd",style:{padding:"16px",border:"1px solid #ccc"}},(0,n.h)("div",null,(0,n.h)("span",null,"Your Ad: ",v)),(0,n.h)("br",null),(0,n.h)("div",null,(0,n.h)("select",{ref:p,onChange:function(n){return i(n.target.value)}},(0,n.h)("option",{value:"cat",selected:"cat"===l},"Layout Cat"),(0,n.h)("option",{value:"dog",selected:"dog"===l},"Layout Dog"))),(0,n.h)("br",null),(0,n.h)(s,null,"cat"===l&&(0,n.h)(s,{key:"#hehe/hahaha mm"},(0,n.h)("br",null),(0,n.h)("div",null,"This is cat layout."),(0,n.h)(a,{text:v,setText:d})),"dog"===l&&(0,n.h)(s,null,(0,n.h)("div",null,"This is not default layout, update from ancestor might reset the state of this part if tree updating logic not correct."),(0,n.h)("br",null),(0,n.h)(f,{text:v,setText:d}))),(0,n.h)("br",null),(0,n.h)(s,null,(0,n.h)("div",null,(0,n.h)("strong",null,(0,n.h)("i",null,"This is Bird container"))),(0,n.h)("br",null),(0,n.h)(c,{layout:l,text:v,setText:d})),(0,n.h)("br",null),(0,n.h)("div",null,(0,n.h)("button",{type:"button",onClick:function(){o((function(n){return n+1}))}},"Update count")," ",(0,n.h)("span",null,"Re-renders:",e)))}function s(t){var r=t.children;return(0,n.h)("div",{className:"Wrapper"},r)}function v(){var r=t((0,n.eJ)(1),2),e=r[0],o=r[1],u=(0,n.sO)(null);return(0,n.d4)((function(){return function(){}})),(0,n.h)("article",{className:"MyAd"},[!1,1,2,[4,5]," Count: ",e],(0,n.h)(s,null,(0,n.h)("inner",null,(0,n.h)("my-div",null,(0,n.h)("love-div",null,(0,n.h)("test-div",null,(0,n.h)("a",null,"link"),(0,n.h)(s,null,(0,n.h)(s,null,(0,n.h)(s,null,"test",(0,n.h)(s,null,(0,n.h)(h,{ref:u,count:e,setCount:o}))))))),(0,n.h)("b",null,(0,n.h)("i",null,"hehe"))))))}function d(){var r=t((0,n.eJ)(!0),2),e=r[0],o=r[1];return(0,n.h)("=",null,(0,n.h)("paragraph",null,(0,n.h)("input",{type:"checkbox",checked:e,onChange:function(n){return o((function(n){return!n}))}}),(0,n.h)("h2",null,"Demo"),"hello",e&&(0,n.h)(v,null)))}function p(){return(0,n.h)(d,null)}console.time("stack"),(0,n.LI)((0,n.h)((function(){return(0,n.h)("hh-ff",null,(0,n.h)(p,null))}),null),document.getElementById("sandbox-container")),console.timeEnd("stack")})()})();