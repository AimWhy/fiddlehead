(()=>{"use strict";function n(n){this.current=n}function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(n)}function e(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function r(n){return"string"==typeof n||n instanceof String}function o(n){return"number"==typeof n||n instanceof Number}function l(n){return n instanceof Function}function i(n){return n instanceof Array}function a(n){return null==n}function u(n){this.type_=n,this.props_={},this.key_=null,this.ref_=null,this.hooks_=[],this.parent_=null,this.children_=[],this.path_="",this.posInRow_=null,this.nativeNode_=null,this.ns_=null,this.class_=n===s||n===f?p:l(n)?h:_}var c=function(n){return n.children},f="[",s="=",_=0,h=1,p=2,v=0,d=0;function y(t,e){t.nativeNode_=e,t.ref_ instanceof n&&(t.ref_.current=e)}function m(n){var t=null;return n instanceof u?t=n:r(n)||o(n)?(t=new u("#")).props_.children=n:i(n)&&b(t=new u(f),n),t}function g(n,t,e){t.parent_=n,t.posInRow_=e,n.children_[e]=t}function b(n,t){for(var e,r=-1,o=0,l=t.length;o<l;++o)null!==(e=m(t[o]))&&g(n,e,++r)}var w=["key","ref"];function k(n,t){if(null==n)return{};var e,r,o=function(n,t){if(null==n)return{};var e,r,o={},l=Object.keys(n);for(r=0;r<l.length;r++)e=l[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)e=l[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}function N(n,t){var e=t||{},r=e.key,o=void 0===r?null:r,l=e.ref,i=void 0===l?null:l,a=k(e,w),c=new u(n);c.props_=a,c.key_=o,c.ref_=i;for(var f=arguments.length,s=new Array(f>2?f-2:0),_=2;_<f;_++)s[_-2]=arguments[_];return c.class_===h?c.props_.children=s.length>1?s:s[0]:b(c,s),c}function S(n,t){n.hook_vnode=t}var A=new Map;function j(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,l=[],i=!0,a=!1;try{for(e=e.call(n);!(i=(r=e.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(n){a=!0,o=n}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return l}}(n,t)||function(n,t){if(n){if("string"==typeof n)return O(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function E(n,t,r){for(var o in r)e(r,o)&&a(t[o])&&I(n,o,r[o]);for(var l in t)e(t,l)&&C(n,l,t[l],r[l])}function I(n,t,e){var r=j(x(t,e),2),o=r[0];a(r[1])||n.removeAttribute(o)}function C(n,t,l,i){var u=j(x(t,l),2),c=u[0],f=u[1];if(!a(f))if("style"!==c){if((r(f)||o(f))&&n.setAttribute(c,f),c in n)try{n[c]=f}catch(n){}}else{if(!a(i)){var s=j(x(t,i),2)[1];if(!a(s))for(var _ in s)e(s,_)&&!e(f,_)&&(n.style[_]="")}for(var h in f)e(f,h)&&(a(f[h])||(n.style[h]=f[h]))}}function x(n,e){return l(e)?[n.toLowerCase(),e]:"className"===n?i(e)?["class",e.filter((function(n){return r(n)})).join(" ")]:["class",e]:"class"===n?(console.error("className instead of class"),[n]):"style"!==n||a(e)||function(n){return null!==n&&"object"===t(n)}(e)?[n,e]:(console.error("Style must be an object",e),[n])}function M(n){var t=function(n){return"#"===n.type_?(t=n.props_.children,document.createTextNode(t)):(e=function(n){return 1===n?"http://www.w3.org/2000/svg":null}(n.ns_),r=n.type_,o=n.props_,E(l=null!==e?document.createElementNS(e,r):document.createElement(r),o,{}),l);var t,e,r,o,l}(n);y(n,t),null!==t&&S(t,n)}function D(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function R(n,t){0===n.size?function(n){var t;n.forEach((function(n){null!==(t=T(n))&&(M(n),t.appendChild(n.nativeNode_))}))}(t):(function(n,t){var e,r="";n.forEach((function(n,o){var l,i;t.has(o)?(y(e=t.get(o),n.nativeNode_),"#"===e.type_?e.props_.children!==n.props_.children&&(l=e.nativeNode_,i=e.props_.children,l.textContent=i):E(e.nativeNode_,e.props_,n.props_)):function(n,t){if(n.length<t.length)return!1;for(var e=t.length-1;e>=0;--e)if(t[e]!==n[e])return!1;return!0}(o,r+"/")||(function(n){for(var t,e=B(n),r=0,o=e.length;r<o;++r)null!==(t=e[r]).parentNode&&t.parentNode.removeChild(t)}(n),r=o)}))}(n,t),function(n,t){var e=[];t.forEach((function(t,r){n.has(r)?(P(e,n.get(r)),e.length=0):e.push(t)})),e.length>0&&P(e,null)}(n,t))}function P(n,t){for(var e,r,o=t&&U(t)||null,l=0,i=n.length;l<i;++l)null!==(r=T(e=n[l]))&&(M(e),null!==o&&r===o.parentNode?r.insertBefore(e.nativeNode_,o):r.appendChild(e.nativeNode_))}function T(n){return n.type_===c?n.nativeNode_:null===n.parent_?null:null===n.parent_.nativeNode_?T(n.parent_):n.parent_.nativeNode_}function U(n){if(null!==n.nativeNode_)return n.nativeNode_;for(var t=null,e=0,r=n.children_.length;e<r&&null===t;++e)t=U(n.children_[e]);return t}function B(n){if(null!==n.nativeNode_)return[n.nativeNode_];for(var t=[],e=0,r=n.children_.length;e<r;++e)t.push.apply(t,function(n){if(Array.isArray(n))return D(n)}(o=B(n.children_[e]))||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(o)||function(n,t){if(n){if("string"==typeof n)return D(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?D(n,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var o;return t}function V(n,t,e){this.tag_=z,this.callback_=n,this.deps_=t,this.destroy_=null,this.lastDestroy_=e}var $,z=0;function F(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===n.lastDestroy_||t?null!==n.destroy_&&n.destroy_():n.lastDestroy_()}function G(n){var t,e,r=function(n){var t=q();return H(n,t),t}(n),o=function(n){var t=q();return L(n,t),t}(n);t=r.functional_,e=o.functional_,t.forEach((function(n,t){var r,o=!e.has(t);!function(n,t){for(var e,r=0,o=n.hooks_.length;r<o;++r)(e=n.hooks_[r])instanceof V&&(null!==e.lastDestroy_||null!==e.destroy_)&&(t||1===e.tag_||4===e.tag_)&&F(e,t)}(n,o),o&&(r=n.path_,A.delete(r))})),R(r.viewable_,o.viewable_),function(n,t){t.forEach((function(t,e){!function(n,t){for(var e,r=0,o=n.hooks_.length;r<o;++r)(e=n.hooks_[r])instanceof V&&(t||1===e.tag_||4===e.tag_)&&((l=e).destroy_=l.callback_(),void 0===l.destroy_&&(l.destroy_=null));var l}(t,!n.has(e))}))}(r.functional_,o.functional_)}function L(n,t){if(n.class_===h){t.functional_.set(n.path_,n);var e=m(n.type_(n.props_));null!==e&&(g(n,e,0),K(n))}else n.class_===_&&t.viewable_.set(n.path_,n);for(var r=0,o=n.children_.length;r<o;++r)L(n.children_[r],t)}function q(){return{functional_:new Map,viewable_:new Map}}function H(n,t){n.class_===h?t.functional_.set(n.path_,n):n.class_===_&&t.viewable_.set(n.path_,n);for(var e=0,r=n.children_.length;e<r;++e)H(n.children_[e],t)}function J(n,t){var e=this;this.context_=n,this.value_=t,this.setValue_=function(n){var t;(t=l(n)?n(e.value_):n)!==e.value_&&(e.value_=t,G(e.context_))}}function K(n){for(var t=0,e=n.children_.length;t<e;++t)Q(n.children_[t],n.path_)}function Q(n,t){var r,o,l;if(n.path_=t+"/"+(null!==n.key_?(r=n.key_,"@"+encodeURIComponent(r)):n.posInRow_)+"/"+(n.class_===h?e(l=n.type_,"hook_alias")?l.hook_alias:l.hook_alias="{"+(++v).toString(36):n.type_),n.class_===h){var i=(o=n.path_,A.get(o)||null);if(null!==i){n.hooks_=i;for(var a,u=0,c=n.hooks_.length;u<c;++u)(a=n.hooks_[u])instanceof J&&(a.context_=n)}!function(n,t){A.set(n,t)}(n.path_,n.hooks_)}n.ns_=function(n){return"svg"===n.type_?1:1===n.parent_.ns_&&"foreignObject"===n.parent_.type_?0:n.parent_.ns_}(n);for(var f=0,s=n.children_.length;f<s;++f)Q(n.children_[f],n.path_)}function W(n){return N("div",null,n.name," ",n.children)}function X(){return console.time("render"),null}function Y(){return console.timeEnd("render"),null}console.time("mount"),($=function(n,t){var e;if(!(e=t.hook_vnode)){for(;t.firstChild;)t.removeChild(t.firstChild);(e=new u(c)).ns_="ownerSVGElement"in t?1:0,y(e,t),S(t,e)}return e.props_.children=n,e}(N((function(){return N("main",null,N(X,null),new Array(1e3).fill(1).map((function(n,t){return N(W,{name:t,key:t},N(W,{name:t+".1"},N("div",null,N(W,{name:t+".1.1"}),N(W,{name:t+".1.2"}),N(W,{name:t+".1.3"}))),N(W,{name:t+".2"}),N(W,{name:t+"1.3"}))})),N(Y,null))}),null),document.getElementById("sandbox-container"))).path_="~"+(++d).toString(36),K($),G($),console.timeEnd("mount")})();