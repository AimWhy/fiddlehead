(()=>{"use strict";var n={526:(n,t,e)=>{var r=["key","ref"];function o(n,t){if(null==n)return{};var e,r,o=function(n,t){if(null==n)return{};var e,r,o={},l=Object.keys(n);for(r=0;r<l.length;r++)e=l[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)e=l[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}function l(n){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},l(n)}function u(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,l=[],u=!0,i=!1;try{for(e=e.call(n);!(u=(r=e.next()).done)&&(l.push(r.value),!t||l.length!==t);u=!0);}catch(n){i=!0,o=n}finally{try{u||null==e.return||e.return()}finally{if(i)throw o}}return l}}(n,t)||i(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,t){if(n){if("string"==typeof n)return a(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(n,t):void 0}}function a(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var c=null,s=-1;function f(){if(null===c)throw new Error("Cannot call hooks from outside of the component");return[c,++s]}function h(n){this.current=n}function _(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function p(n){return"string"==typeof n||n instanceof String}function d(n){return"number"==typeof n||n instanceof Number}function v(n){return n instanceof Function}function y(n){return n instanceof Array}function g(n){return null==n}function m(n,t){for(var e=n.length-1;e>=0;--e)if(n[e]!==t[e])return!1;return!0}function b(n){this.type_=n,this.props_={},this.key_=null,this.ref_=null,this.hooks_=[],this.parent_=null,this.children_=[],this.path_="",this.posInRow_=null,this.nativeNode_=null,this.ns_=null,this.class_=n===k||n===w?N:v(n)?S:A}var w="[",k="=",A=0,S=1,N=2,I=function(n){return n.children},j=0,E=0;function O(n,t){n.nativeNode_=t,n.ref_ instanceof h&&(n.ref_.current=t)}function x(n){var t=null;return n instanceof b?t=n:p(n)||d(n)?(t=new b("#")).props_.children=n:y(n)&&R(t=new b(w),n),t}function C(n,t,e){t.parent_=n,t.posInRow_=e,n.children_[e]=t}function R(n,t){for(var e,r=-1,o=0,l=t.length;o<l;++o)null!==(e=x(t[o]))&&C(n,e,++r)}function T(n,t){n.hook_vnode=t}var B=new Map;function L(n,t,e){for(var r in e)_(e,r)&&g(t[r])&&M(n,r,e[r]);for(var o in t)_(t,o)&&D(n,o,t[o],e[o])}function M(n,t,e){var r=u(z(t,e),2),o=r[0];g(r[1])||n.removeAttribute(o)}function D(n,t,e,r){var o=u(z(t,e),2),l=o[0],i=o[1];if(!g(i))if("style"!==l){if((p(i)||d(i))&&n.setAttribute(l,i),l in n)try{n[l]=i}catch(n){}}else{if(!g(r)){var a=u(z(t,r),2)[1];if(!g(a))for(var c in a)_(a,c)&&!_(i,c)&&(n.style[c]="")}for(var s in i)_(i,s)&&(g(i[s])||(n.style[s]=i[s]))}}function z(n,t){return v(t)?[n.toLowerCase(),t]:"className"===n?y(t)?["class",t.filter((function(n){return p(n)})).join(" ")]:["class",t]:"class"===n?(console.error("className instead of class"),[n]):"style"!==n||g(t)||function(n){return null!==n&&"object"===l(n)}(t)?[n,t]:(console.error("Style must be an object",t),[n])}function H(n){var t=function(n){return"#"===n.type_?(t=n.props_.children,document.createTextNode(t)):(e=n.ns_,r=n.type_,o=n.props_,L(l=1===e?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r),o,{}),l);var t,e,r,o,l}(n);O(n,t),null!==t&&T(t,n)}function P(n,t){0===n.size?function(n){var t;n.forEach((function(n){null!==(t=V(n))&&(H(n),t.appendChild(n.nativeNode_))}))}(t):(function(n,t){var e,r="";n.forEach((function(n,o){var l,u;t.has(o)?(O(e=t.get(o),n.nativeNode_),"#"===e.type_?e.props_.children!==n.props_.children&&(l=e.nativeNode_,u=e.props_.children,l.textContent=u):L(e.nativeNode_,e.props_,n.props_)):function(n,t){if(n.length<t.length)return!1;for(var e=t.length-1;e>=0;--e)if(t[e]!==n[e])return!1;return!0}(o,r+"/")||(function(n){for(var t,e=F(n),r=0,o=e.length;r<o;++r)null!==(t=e[r]).parentNode&&t.parentNode.removeChild(t)}(n),r=o)}))}(n,t),function(n,t){var e=[];t.forEach((function(t,r){n.has(r)?(U(e,n.get(r)),e.length=0):e.push(t)})),e.length>0&&U(e,null)}(n,t))}function U(n,t){for(var e,r,o=t&&$(t)||null,l=0,u=n.length;l<u;++l)null!==(r=V(e=n[l]))&&(H(e),null!==o&&r===o.parentNode?r.insertBefore(e.nativeNode_,o):r.appendChild(e.nativeNode_))}function V(n){return n.type_===I?n.nativeNode_:null===n.parent_?null:null===n.parent_.nativeNode_?V(n.parent_):n.parent_.nativeNode_}function $(n){if(null!==n.nativeNode_)return n.nativeNode_;for(var t=null,e=0,r=n.children_.length;e<r&&null===t;++e)t=$(n.children_[e]);return t}function F(n){if(null!==n.nativeNode_)return[n.nativeNode_];for(var t=[],e=0,r=n.children_.length;e<r;++e)t.push.apply(t,function(n){if(Array.isArray(n))return a(n)}(o=F(n.children_[e]))||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(o)||i(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var o;return t}function J(n,t,e){this.tag_=G,this.callback_=n,this.deps_=t,this.destroy_=null,this.lastDestroy_=e}var G=0;function Q(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===n.lastDestroy_||t?null!==n.destroy_&&n.destroy_():n.lastDestroy_()}function W(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===n?1:0===n.length?2:!1===t||m(n,t)?3:4}function q(n){var t,e,r=function(n){var t=X();return Y(n,t),t}(n),o=function(n){var t=X();return K(n,t),t}(n);t=r.functional_,e=o.functional_,t.forEach((function(n,t){var r,o=!e.has(t);!function(n,t){for(var e,r=0,o=n.hooks_.length;r<o;++r)(e=n.hooks_[r])instanceof J&&(null!==e.lastDestroy_||null!==e.destroy_)&&(t||1===e.tag_||4===e.tag_)&&Q(e,t)}(n,o),o&&(r=n.path_,B.delete(r))})),P(r.viewable_,o.viewable_),function(n,t){t.forEach((function(t,e){!function(n,t){for(var e,r=0,o=n.hooks_.length;r<o;++r)(e=n.hooks_[r])instanceof J&&(t||1===e.tag_||4===e.tag_)&&((l=e).destroy_=l.callback_(),void 0===l.destroy_&&(l.destroy_=null));var l}(t,!n.has(e))}))}(r.functional_,o.functional_)}function K(n,t){if(n.class_===S){t.functional_.set(n.path_,n),c=n,s=-1;var e=x(n.type_(n.props_));c=null,s=-1,null!==e&&(C(n,e,0),nn(n))}else n.class_===A&&t.viewable_.set(n.path_,n);for(var r=0,o=n.children_.length;r<o;++r)K(n.children_[r],t)}function X(){return{functional_:new Map,viewable_:new Map}}function Y(n,t){n.class_===S?t.functional_.set(n.path_,n):n.class_===A&&t.viewable_.set(n.path_,n);for(var e=0,r=n.children_.length;e<r;++e)Y(n.children_[e],t)}function Z(n,t){var e=this;this.context_=n,this.value_=t,this.setValue_=function(n){var t;(t=v(n)?n(e.value_):n)!==e.value_&&(e.value_=t,q(e.context_))}}function nn(n){for(var t=0,e=n.children_.length;t<e;++t)tn(n.children_[t],n.path_)}function tn(n,t){var e,r,o;if(n.path_=t+"/"+(null!==n.key_?(e=n.key_,"@"+encodeURIComponent(e)):n.posInRow_)+"/"+(n.class_===S?_(o=n.type_,"hook_alias")?o.hook_alias:o.hook_alias=function(n){return n.name+"{"+(++j).toString(36)}(o):n.type_),n.class_===S){var l=(r=n.path_,B.get(r)||null);if(null!==l){n.hooks_=l;for(var u,i=0,a=n.hooks_.length;i<a;++i)(u=n.hooks_[i])instanceof Z&&(u.context_=n)}!function(n,t){B.set(n,t)}(n.path_,n.hooks_)}n.ns_=function(n){return"svg"===n.type_?1:1===n.parent_.ns_&&"foreignObject"===n.parent_.type_?0:n.parent_.ns_}(n);for(var c=0,s=n.children_.length;c<s;++c)tn(n.children_[c],n.path_)}e.g.true=!0,t.h=function(n,t){var e=t||{},l=e.key,u=void 0===l?null:l,i=e.ref,a=void 0===i?null:i,c=o(e,r),s=new b(n);s.props_=c,s.key_=u,s.ref_=a;for(var f=arguments.length,h=new Array(f>2?f-2:0),_=2;_<f;_++)h[_-2]=arguments[_];return s.class_===S?s.props_.children=h.length>1?h:h[0]:R(s,h),s},t.LI=function(n,t){var e,r=function(n,t){var e;if(!(e=t.hook_vnode)){for(;t.firstChild;)t.removeChild(t.firstChild);(e=new b(I)).ns_="ownerSVGElement"in t?1:0,O(e,t),T(t,e)}return e.props_.children=n,e}(n,t);r.path_=_(e=t,"hook_rootid")?e.hook_rootid:e.hook_rootid="~"+(++E).toString(36),nn(r),q(r)},t.d4=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=f(),r=u(e,2),o=r[0],l=r[1];if(o.hooks_.length>l){var i=o.hooks_[l];if((null!==t||null!==i.deps_)&&t.length!==i.deps_.length)throw new Error("Deps must be size-fixed");var a=W(t,i.deps_);if(2===a)return;if(3===a)return void(i.tag_=a);if(1===a||4===a){var c=new J(n,t,i.destroy_);return c.tag_=a,void(o.hooks_[l]=c)}}else{var s=new J(n,t,null);s.tag_=W(t),o.hooks_.push(s)}},t.sO=function(n){var t=u(f(),2),e=t[0],r=t[1];if(e.hooks_.length>r)return e.hooks_[r];var o=new h(n);return e.hooks_.push(o),o},t.eJ=function(n){var t,e=u(f(),2),r=e[0],o=e[1];return r.hooks_.length>o?t=r.hooks_[o]:(t=new Z(r,n),r.hooks_.push(t)),[t.value_,t.setValue_]}}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return n[r](l,l.exports,e),l.exports}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),(()=>{var n=e(526);function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function r(t){var e=t.children,r=t.myRef;return(0,n.h)("span",{className:"Wrapper",ref:r},e)}function o(t){var e=t.children,o=t.myRef;return console.log({children:e}),(0,n.h)(r,{myRef:o},e)}function l(){var e,r,l=(e=(0,n.eJ)("A"),r=2,function(n){if(Array.isArray(n))return n}(e)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,l=[],u=!0,i=!1;try{for(e=e.call(n);!(u=(r=e.next()).done)&&(l.push(r.value),!t||l.length!==t);u=!0);}catch(n){i=!0,o=n}finally{try{u||null==e.return||e.return()}finally{if(i)throw o}}return l}}(e,r)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],i=l[1],a=(0,n.sO)(null),c=(0,n.sO)(null);return(0,n.d4)((function(){return console.log("effect always",a.current,c.current),function(){console.log("unmount always",a.current,c.current)}})),(0,n.d4)((function(){return console.log("effect deps",a.current,c.current),function(){console.log("unmount deps",a.current,c.current)}}),[u]),(0,n.d4)((function(){return console.log("effect lazy",a.current,c.current),function(){console.log("unmount lazy",a.current,c.current)}}),[]),(0,n.h)("div",{className:"Root",ref:a},(0,n.h)("select",{onChange:function(n){return i(n.target.value)}},(0,n.h)("option",{key:"HAHAH@#$%#@#@][",value:"A",selected:"A"===u},"Layout A"),(0,n.h)("option",{key:1234,value:"B",selected:"B"===u},"Layout B")),(0,n.h)("div",{style:{marginTop:"100px"}},(0,n.h)("span",null,"Hi,"),"A"===u&&(0,n.h)("=",null,(0,n.h)(o,{myRef:c},(0,n.h)("b",null,"My")),(0,n.h)("=",null,(0,n.h)("=",null,(0,n.h)("i",null,"name"),(0,n.h)("span",null,(0,n.h)("u",null,"is"))))),"B"===u&&(0,n.h)("=",null,(0,n.h)("b",null,"I"),(0,n.h)(o,{myRef:c},(0,n.h)("=",null,(0,n.h)("i",null,(0,n.h)("=",null,"am"))))),(0,n.h)(o,null,(0,n.h)("=",null,(0,n.h)("a",null,"Quyet")))))}function u(){return console.timeEnd("mount"),null}function i(){return(0,n.d4)((function(){console.log("effect root")}),[]),[(0,n.h)(o,null,["haha"]),(0,n.h)(l,null),(0,n.h)(u,null)]}console.time("stack"),console.time("mount"),(0,n.LI)((0,n.h)(i,null),document.getElementById("sandbox-container")),setTimeout((function(){(0,n.LI)((0,n.h)(i,null),document.getElementById("sandbox-container"))}),3e3),console.timeEnd("stack")})()})();