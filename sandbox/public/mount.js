(()=>{"use strict";function n(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function t(n){return"string"==typeof n||n instanceof String}function r(n){return"number"==typeof n||n instanceof Number}function e(n){return n instanceof Function}function o(n){return n instanceof Array}function l(n){return null==n}function u(n,t,r){this.parent=n,this.routeFromParent=t,this.current=r}var a=[];function i(){return[].concat(a)}var c=null,f=-1;function s(){if(null===c)throw new Error("Cannot call hooks from outside of the component");return[c,++f]}function y(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function p(n){this.current=n}function v(n){var t,r,e=(t=s(),r=2,function(n){if(Array.isArray(n))return n}(t)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,l=[],u=!0,a=!1;try{for(r=r.call(n);!(u=(e=r.next()).done)&&(l.push(e.value),!t||l.length!==t);u=!0);}catch(n){a=!0,o=n}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(n,t){if(n){if("string"==typeof n)return y(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(n,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=e[0],l=e[1];if(o.hooks.length>l)return o.hooks[l];var u=new p(n);return o.hooks.push(u),u}function h(n,t,r,e){this.type=n,this.props=t,this.key=r,this.ref=e,this.hooks=[],this.parent=null,this.children=[],this.path=[],this.viewNode=null,this.ns=null}var d="#txt",m="#frg",g="html",b="svg";function w(n,t){n.viewNode=t,n.ref instanceof p&&(n.ref.current=t)}var A=0;function S(){return[--A]}function O(n){return n.join("/")}function j(n){return"@"+encodeURIComponent(n)}var k={};function I(t){var r=O(t);return n(k,r)?k[r]:null}function N(n,t){k[O(n)]=t}function C(n){delete k[O(n)]}var x=["key","ref"],E=["key","ref"];function P(n){return function(n){if(Array.isArray(n))return $(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return $(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function T(n,t){if(null==n)return{};var r,e,o=function(n,t){if(null==n)return{};var r,e,o={},l=Object.keys(n);for(e=0;e<l.length;e++)r=l[e],t.indexOf(r)>=0||(o[r]=n[r]);return o}(n,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(e=0;e<l.length;e++)r=l[e],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function D(n,t){t=t||{};for(var r=arguments.length,o=new Array(r>2?r-2:0),l=2;l<r;l++)o[l-2]=arguments[l];return null===n?U.apply(void 0,[m,t].concat(o)):e(n)?M.apply(void 0,[n,t].concat(o)):U.apply(void 0,[n,t].concat(o))}function M(n,t){for(var r=t.key,e=void 0===r?null:r,o=t.ref,l=void 0===o?null:o,u=T(t,x),a=arguments.length,i=new Array(a>2?a-2:0),c=2;c<a;c++)i[c-2]=arguments[c];u.children=i;var f=S(),s=new h(n,u,e,l);return N(f,s),s.resolvePath=function(){C(f);var n=I(s.path);n&&(s.hooks=n.hooks),N(s.path,s)},s}function U(n,t){for(var r=t.key,e=void 0===r?null:r,o=t.ref,l=void 0===o?null:o,u=T(t,E),a=new h(n,u,e,l),i=arguments.length,c=new Array(i>2?i-2:0),f=2;f<i;f++)c[f-2]=arguments[f];return H(a,c),a}function H(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(o(t))for(var e=0;e<t.length;e++)H(n,t[e],[].concat(P(r),[e]));else R(n,t,r)}function R(n,e,o){var l,i;t(e)||r(e)?(l=new h(d,{},null,null)).text=String(e):l=e,l instanceof h&&(n.children.push(l),i=new u(n,o,l),a.push(i))}function B(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,l=[],u=!0,a=!1;try{for(r=r.call(n);!(u=(e=r.next()).done)&&(l.push(e.value),!t||l.length!==t);u=!0);}catch(n){a=!0,o=n}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(n,t)||function(n,t){if(n){if("string"==typeof n)return V(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function L(t,r,e){for(var o in e)n(e,o)&&l(r[o])&&z(t,o,e[o]);for(var u in r)n(r,u)&&F(t,u,r[u],e[u])}function z(n,t,r){var e=B(W(t,r),2),o=e[0];l(e[1])||n.removeAttribute(o)}function F(e,o,u,a){var i=B(W(o,u),2),c=i[0],f=i[1];if(!l(f))if("style"!==c){if((t(f)||r(f))&&e.setAttribute(c,f),c in e)try{e[c]=f}catch(n){}}else{if(!l(a)){var s=B(W(o,a),2)[1];if(!l(s))for(var y in s)n(s,y)&&!n(f,y)&&(e.style[y]="")}for(var p in f)n(f,p)&&(l(f[p])||(e.style[p]=f[p]))}}function W(n,r){return e(r)?[n.toLowerCase(),r]:"className"===n?o(r)?["class",r.filter((function(n){return t(n)})).join(" ")]:["class",r]:"class"===n?(console.error("className instead of class"),[n]):"style"!==n||l(r)||function(n){return!!n&&n.constructor===Object}(r)?[n,r]:(console.error("style must be a plain object",r),[n])}var G=0,Q=0;function q(t){return n(t,"Hook$ComponentType")||(t.Hook$ComponentType=t.name+"$"+ ++Q),t.Hook$ComponentType}function J(n){return function(n){if(Array.isArray(n))return K(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return K(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function X(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=new u(null,[],n),o=i(),l=J(t),a=function t(r,u){var a=l.length;u!==n&&(l.push.apply(l,J(r.routeFromParent)),null!==u.key&&(l.pop(),l.push(j(u.key))),e(u.type)?l.push(q(u.type)):l.push(u.type)),o=o.filter((function(n){return n.parent!==r.current||(t(n,n.current),!1)})),u.path=J(l),u.parent=r.parent,void 0!==u.resolvePath&&(u.resolvePath(),delete u.resolvePath),l.length=a};return a(r,n),n}function Y(){a.length=0}function Z(n){"svg"===n.type?n.ns=b:null!==n.parent?n.ns=n.parent.ns:n.ns=g;var r,e,o,l,u,a=null;if(n.type===d)u=n.text,a=document.createTextNode(u);else if(n.type===m);else if(t(n.type)){var i=null;n.ns===b&&(i="http://www.w3.org/2000/svg"),r=i,e=n.type,o=n.props,L(l=null!==r?document.createElementNS(r,e):document.createElement(e),o,{}),function(n,t){n.Hook$VirtualNode=t}(a=l,n)}w(n,a);for(var c=0;c<n.children.length;c++)Z(n.children[c])}function _(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function nn(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){tn(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}function tn(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function rn(t,r){!function(t,r){var e="";for(var o in t)if(n(t,o)&&!n(r,o)&&!o.startsWith(e+"/")){var l=t[o];null!==l.viewNode&&(on(l),e=o)}}(t,r),function(t,r){for(var e=Object.keys(nn(nn({},t),r)),o=0;o<e.length;o++){var l=e[o];if(n(t,l)&&n(r,l)){var u=r[l];if(null!==u.viewNode){var a=t[l];w(u,a.viewNode),u.type===d?u.text!==a.text&&(u.viewNode.textContent=u.text):L(u.viewNode,u.props,a.props)}}}}(t,r),function(t,r){var e=[];for(var o in r)if(n(r,o))if(n(t,o))en(e,t[o]),e.length=0;else{var l=r[o];null!==l.viewNode&&e.push(l)}e.length>0&&en(e,null)}(t,r)}function en(n,t){for(var r=t&&un(t)[0]||null,e=0;e<n.length;e++){var o=n[e];if(null!==o.viewNode){var l=ln(o);null!==l&&(null!==r&&l===r.parentNode?l.insertBefore(o.viewNode,r):l.appendChild(o.viewNode))}}}function on(n){for(var t=un(n),r=0;r<t.length;r++){var e=t[r];null!==e.parentNode&&e.parentNode.removeChild(e)}}function ln(n){return null===n.parent?null:null===n.parent.viewNode?ln(n.parent):n.parent.viewNode}function un(n){return null!==n.viewNode?[n.viewNode]:n.children.reduce((function(n,t){return n.concat(un(t))}),[])}function an(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,l=[],u=!0,a=!1;try{for(r=r.call(n);!(u=(e=r.next()).done)&&(l.push(e.value),!t||l.length!==t);u=!0);}catch(n){a=!0,o=n}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(n,t)||function(n,t){if(n){if("string"==typeof n)return cn(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cn(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function fn(n,t,r){this.tag=sn,this.callback=n,this.deps=t,this.destroy=null,this.lastDestroy=r}var sn=0;function yn(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=s(),e=an(r,2),o=e[0],l=e[1];if(o.hooks.length>l){var u=o.hooks[l];if((null!==t||null!==u.deps)&&t.length!==u.deps.length)throw new Error("Deps must be size-fixed");var a=hn(t,u.deps);if(2===a)return;if(3===a)return void(u.tag=a);if(1===a||4===a){var i=new fn(n,t,u.destroy);return i.tag=a,void(o.hooks[l]=i)}}else{var c=new fn(n,t,null);c.tag=hn(t),o.hooks.push(c)}}function pn(n,t){for(var r=0;r<n.hooks.length;r++){var e=n.hooks[r];e instanceof fn&&(t||1===e.tag||4===e.tag)&&((o=e).destroy=o.callback())}var o}function vn(n,t){for(var r=0;r<n.hooks.length;r++){var e=n.hooks[r];e instanceof fn&&(null!==e.lastDestroy||null!==e.destroy)&&(t||1===e.tag||4===e.tag)&&mn(e,t)}}function hn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===n?1:0===n.length?2:!1===t||dn(n,t)?3:4}function dn(n,t){for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function mn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===n.lastDestroy||t?null!==n.destroy&&n.destroy():n.lastDestroy()}function gn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function bn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?{}:jn(n);wn(n);var e=jn(n);Sn(r,e),Z(n),rn(r,e),On(r,e)}function wn(n){An(n),Y()}function An(n){if(n.type!==d)if(e(n.type)){c=n,f=-1;var t=n.type(n.props);c=null,f=-1,X(t,[].concat(function(n){if(Array.isArray(n))return gn(n)}(o=n.path)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(o)||function(n,t){if(n){if("string"==typeof n)return gn(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gn(n,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[0])),t.parent=n,n.children[0]=t,An(t)}else for(var r=0;r<n.children.length;r++)An(n.children[r]);var o}function Sn(t,r){for(var o in t)if(n(t,o)){var l=!n(r,o),u=t[o];e(u.type)&&(vn(u,l),l&&C(u.path))}}function On(t,r){for(var o in r)if(n(r,o)){var l=!n(t,o),u=r[o];e(u.type)&&pn(u,l)}}function jn(n){var t={};return function n(r){t[O(r.path)]=r;for(var e=0;e<r.children.length;e++)n(r.children[e])}(n),t}function kn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function In(n,t){this.value=n,this.setValue=t}function Nn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function Cn(n){var t=n.children;return D("span",{className:"Wrapper",ref:n.myRef},t)}function xn(n){var t=n.children;return D(Cn,{myRef:n.myRef},t)}function En(){var n,t,r=(n=function(n){var t,r,o=(t=s(),r=2,function(n){if(Array.isArray(n))return n}(t)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,l=[],u=!0,a=!1;try{for(r=r.call(n);!(u=(e=r.next()).done)&&(l.push(e.value),!t||l.length!==t);u=!0);}catch(n){a=!0,o=n}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(n,t){if(n){if("string"==typeof n)return kn(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kn(n,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],u=o[1];if(l.hooks.length>u){var a=l.hooks[u];return[a.value,a.setValue]}var i=new In("A",(function(n){var t;(t=e(n)?n(i.value):n)!==i.value&&(i.value=t,bn(l))}));return l.hooks.push(i),[i.value,i.setValue]}(),t=2,function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,l=[],u=!0,a=!1;try{for(r=r.call(n);!(u=(e=r.next()).done)&&(l.push(e.value),!t||l.length!==t);u=!0);}catch(n){a=!0,o=n}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(n,t)||function(n,t){if(n){if("string"==typeof n)return Nn(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nn(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],l=r[1],u=v(null),a=v(null);return yn((function(){return console.log("effect always",u.current,a.current),function(){console.log("unmount always",u.current,a.current)}})),yn((function(){return console.log("effect deps",u.current,a.current),function(){console.log("unmount deps",u.current,a.current)}}),[o]),yn((function(){return console.log("effect lazy",u.current,a.current),function(){console.log("unmount lazy",u.current,a.current)}}),[]),D("div",{className:"Root",ref:u},D("select",{onChange:function(n){return l(n.target.value)}},D("option",{value:"A",selected:"A"===o},"Layout A"),D("option",{value:"B",selected:"B"===o},"Layout B")),D("div",{style:{marginTop:"100px"}},D("span",null,"Hi,"),"A"===o&&D(null,null,D(xn,{myRef:a},D("b",null,"My")),D(null,null,D(null,null,D("i",null,"name"),D("span",null,D("u",null,"is"))))),"B"===o&&D(null,null,D("b",null,"I"),D(xn,{myRef:a},D(null,null,D("i",null,D(null,null,"am"))))),D(xn,null,D(null,null,D("a",null,"Quyet")))))}console.time("mount"),function(t,r){var e;X(t,[(e=r,n(e,"Hook$ContainerId")||(e.Hook$ContainerId="~"+ ++G),e.Hook$ContainerId),0]),Y();var o=new h(r.nodeName.toLowerCase(),{},null,null);w(o,r),t.parent=o,r.ownerSVGElement?o.ns=b:o.ns=g,bn(t,!0)}(D((function(){try{return D(En,null)}catch(n){return"Oops! Something went wrong"}}),null),document.getElementById("sandbox-container")),console.timeEnd("mount")})();