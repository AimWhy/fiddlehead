(()=>{"use strict";var n={526:(n,t)=>{var e=["key","ref"];function r(n,t){if(null==n)return{};var e,r,o=function(n,t){if(null==n)return{};var e,r,o={},l=Object.keys(n);for(r=0;r<l.length;r++)e=l[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)e=l[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,l=[],u=!0,a=!1;try{for(e=e.call(n);!(u=(r=e.next()).done)&&(l.push(r.value),!t||l.length!==t);u=!0);}catch(n){a=!0,o=n}finally{try{u||null==e.return||e.return()}finally{if(a)throw o}}return l}}(n,t)||l(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,t){if(n){if("string"==typeof n)return u(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(n,t):void 0}}function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function a(n){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(n)}function i(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function c(n){return"string"==typeof n||n instanceof String}function f(n){return"number"==typeof n||n instanceof Number}function s(n){return n instanceof Function}function h(n){return n instanceof Array}function _(n){return null==n}var v=null,p=-1;function y(){if(null===v)throw new Error("Cannot call hooks from outside of the component");return[v,++p]}function d(n){this.current=n}function m(n){this.type_=n,this.props_={},this.key_=null,this.ref_=null,this.hooks_=[],this.parent_=null,this.children_=[],this.path_="",this.posInRow_=null,this.data_=null,this.nativeNode_=null,this.ns_=null}var g="[",b=0,w=0;function k(n,t){n.nativeNode_=t,n.ref_ instanceof d&&(n.ref_.current=t)}function A(n){if(n instanceof m)return n;if(c(n)||f(n)){var t=new m("#");return t.data_=n,t}if(h(n)){for(var e=new m(g),r=-1,o=0;o<n.length;o++){var l=A(n[o]);null!==l&&S(e,l,++r)}return e}return null}function S(n,t,e){t.parent_=n,t.posInRow_=e,n.children_[e]=t}function N(n,t){n.hook_vnode=t}var I=new Map;function O(n,t,e){for(var r in e)i(e,r)&&_(t[r])&&x(n,r,e[r]);for(var o in t)i(t,o)&&E(n,o,t[o],e[o])}function x(n,t,e){var r=o(j(t,e),2),l=r[0];_(r[1])||n.removeAttribute(l)}function E(n,t,e,r){var l=o(j(t,e),2),u=l[0],a=l[1];if(!_(a))if("style"!==u){if((c(a)||f(a))&&n.setAttribute(u,a),u in n)try{n[u]=a}catch(n){}}else{if(!_(r)){var s=o(j(t,r),2)[1];if(!_(s))for(var h in s)i(s,h)&&!i(a,h)&&(n.style[h]="")}for(var v in a)i(a,v)&&(_(a[v])||(n.style[v]=a[v]))}}function j(n,t){return s(t)?[n.toLowerCase(),t]:"className"===n?h(t)?["class",t.filter((function(n){return c(n)})).join(" ")]:["class",t]:"class"===n?(console.error("className instead of class"),[n]):"style"!==n||_(t)||function(n){return null!==n&&"object"===a(n)}(t)?[n,t]:(console.error("Style must be an object",t),[n])}function C(n){n.ns_=function(n){return"svg"===n.type_?1:1===n.parent_.ns_&&"foreignObject"===n.parent_.type_?0:n.parent_.ns_}(n);var t=function(n){if(s(n.type_))return null;if("="===n.type_||n.type_===g)return null;if("#"===n.type_)return t=n.data_,document.createTextNode(t);var t,e,r,o,l,u=null;return 1===n.ns_&&(u="http://www.w3.org/2000/svg"),e=u,r=n.type_,o=n.props_,O(l=null!==e?document.createElementNS(e,r):document.createElement(r),o,{}),l}(n);k(n,t),null!==t&&N(t,n)}function R(n,t){for(var e=t&&L(t)[0]||null,r=0;r<n.length;r++){var o=n[r];if(C(o),null!==o.nativeNode_){var l=B(o);null!==l&&(null!==e&&l===e.parentNode?l.insertBefore(o.nativeNode_,e):l.appendChild(o.nativeNode_))}}}function B(n){return null===n.parent_?null:null===n.parent_.nativeNode_?B(n.parent_):n.parent_.nativeNode_}function L(n){if(null!==n.nativeNode_)return[n.nativeNode_];for(var t=[],e=0;e<n.children_.length;e++){var r=n.children_[e];t.push.apply(t,function(n){if(Array.isArray(n))return u(n)}(o=L(r))||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(o)||l(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}var o;return t}function M(n,t,e){this.tag_=T,this.callback_=n,this.deps_=t,this.destroy_=null,this.lastDestroy_=e}var T=0;function D(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===n.lastDestroy_||t?null!==n.destroy_&&n.destroy_():n.lastDestroy_()}function H(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===n?1:0===n.length?2:!1===t||V(n,t)?3:4}function V(n,t){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function z(n){var t,e,r,o,l=function(n){var t=U();return $(n,t),t}(n),u=function(n){var t=U();return P(n,t),t}(n);t=l.functional_,e=u.functional_,t.forEach((function(n,t){var r,o=!e.has(t);!function(n,t){for(var e=0;e<n.hooks_.length;e++){var r=n.hooks_[e];r instanceof M&&(null!==r.lastDestroy_||null!==r.destroy_)&&(t||1===r.tag_||4===r.tag_)&&D(r,t)}}(n,o),o&&(r=n.path_,I.delete(r))})),r=l.viewable_,o=u.viewable_,function(n,t){var e="";n.forEach((function(n,r){if(t.has(r)){var o=t.get(r);k(o,n.nativeNode_),"#"===o.type_?o.data_!==n.data_&&(l=o.nativeNode_,u=o.data_,l.textContent=u):O(o.nativeNode_,o.props_,n.props_)}else(function(n,t){if(n.length<t.length)return!1;var e=0;for(e=t.length-1;e>=0;e--)if(t[e]!==n[e])return!1;return!0})(r,e+"/")||(function(n){for(var t=L(n),e=0;e<t.length;e++){var r=t[e];null!==r.parentNode&&r.parentNode.removeChild(r)}}(n),e=r);var l,u}))}(r,o),function(n,t){var e=[];t.forEach((function(t,r){n.has(r)?(R(e,n.get(r)),e.length=0):e.push(t)})),e.length>0&&R(e,null)}(r,o),function(n,t){t.forEach((function(t,e){!function(n,t){for(var e=0;e<n.hooks_.length;e++){var r=n.hooks_[e];r instanceof M&&(t||1===r.tag_||4===r.tag_)&&((o=r).destroy_=o.callback_(),void 0===o.destroy_&&(o.destroy_=null))}var o}(t,!n.has(e))}))}(l.functional_,u.functional_)}function P(n,t){if(s(n.type_)){t.functional_.set(n.path_,n),v=n,p=-1;var e=A(n.type_(n.props_));v=null,p=-1,null!==e&&(S(n,e,0),F(n))}else n.type_!==g&&"="!==n.type_&&t.viewable_.set(n.path_,n);for(var r=0;r<n.children_.length;r++)P(n.children_[r],t)}function U(){return{functional_:new Map,viewable_:new Map}}function $(n,t){s(n.type_)?t.functional_.set(n.path_,n):n.type_!==g&&"="!==n.type_&&t.viewable_.set(n.path_,n);for(var e=0;e<n.children_.length;e++)$(n.children_[e],t)}function J(n,t){var e=this;this.context_=n,this.value_=t,this.setValue_=function(n){var t;(t=s(n)?n(e.value_):n)!==e.value_&&(e.value_=t,z(e.context_))}}function F(n){for(var t=0;t<n.children_.length;t++)G(n.children_[t],n.path_)}function G(n,t){var e,r,o;if(n.path_=t+"/"+(null!==n.key_?(e=n.key_,"@"+encodeURIComponent(e)):n.posInRow_)+"/"+(s(n.type_)?i(o=n.type_,"hook_alias")?o.hook_alias:o.hook_alias="{"+(++b).toString(36):n.type_),s(n.type_)){var l=(r=n.path_,I.get(r)||null);if(null!==l){n.hooks_=l;for(var u=0;u<n.hooks_.length;u++){var a=n.hooks_[u];a instanceof J&&(a.context_=n)}}!function(n,t){I.set(n,t)}(n.path_,n.hooks_)}for(var c=0;c<n.children_.length;c++)G(n.children_[c],n.path_)}t.h=function(n,t){var o=t||{},l=o.key,u=void 0===l?null:l,a=o.ref,i=void 0===a?null:a,c=r(o,e),f=new m(n);f.props_=c,f.key_=u,f.ref_=i;for(var h=arguments.length,_=new Array(h>2?h-2:0),v=2;v<h;v++)_[v-2]=arguments[v];if(s(n))f.props_.children=_;else{var p=0,y=-1;for(p=0;p<_.length;p++){var d=A(_[p]);null!==d&&S(f,d,++y)}}return f},t.LI=function(n,t){var e,r;if(e=t.hook_vnode)r=e.children_[0];else{for(;t.firstChild;)t.removeChild(t.firstChild);(e=new m("")).path_=function(n){return i(n,"hook_cid")?n.hook_cid:n.hook_cid="~"+(++w).toString(36)}(t),e.ns_="ownerSVGElement"in t?1:0,k(e,t),N(t,e),S(e,r=new m((function(n){return n.children})),0),F(e)}r.props_.children=[n],z(r)},t.d4=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=y(),r=o(e,2),l=r[0],u=r[1];if(l.hooks_.length>u){var a=l.hooks_[u];if((null!==t||null!==a.deps_)&&t.length!==a.deps_.length)throw new Error("Deps must be size-fixed");var i=H(t,a.deps_);if(2===i)return;if(3===i)return void(a.tag_=i);if(1===i||4===i){var c=new M(n,t,a.destroy_);return c.tag_=i,void(l.hooks_[u]=c)}}else{var f=new M(n,t,null);f.tag_=H(t),l.hooks_.push(f)}},t.sO=function(n){var t=o(y(),2),e=t[0],r=t[1];if(e.hooks_.length>r)return e.hooks_[r];var l=new d(n);return e.hooks_.push(l),l},t.eJ=function(n){var t=o(y(),2),e=t[0],r=t[1];if(e.hooks_.length>r){var l=e.hooks_[r];return[l.value_,l.setValue_]}var u=new J(e,n);return e.hooks_.push(u),[u.value_,u.setValue_]}}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return n[r](l,l.exports,e),l.exports}(()=>{var n=e(526);function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function r(t){var e=t.children,r=t.myRef;return(0,n.h)("span",{className:"Wrapper",ref:r},e)}function o(t){var e=t.children,o=t.myRef;return(0,n.h)(r,{myRef:o},e)}function l(){var e,r,l=(e=(0,n.eJ)("A"),r=2,function(n){if(Array.isArray(n))return n}(e)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,l=[],u=!0,a=!1;try{for(e=e.call(n);!(u=(r=e.next()).done)&&(l.push(r.value),!t||l.length!==t);u=!0);}catch(n){a=!0,o=n}finally{try{u||null==e.return||e.return()}finally{if(a)throw o}}return l}}(e,r)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],a=l[1],i=(0,n.sO)(null),c=(0,n.sO)(null);return(0,n.d4)((function(){return console.log("effect always",i.current,c.current),function(){console.log("unmount always",i.current,c.current)}})),(0,n.d4)((function(){return console.log("effect deps",i.current,c.current),function(){console.log("unmount deps",i.current,c.current)}}),[u]),(0,n.d4)((function(){return console.log("effect lazy",i.current,c.current),function(){console.log("unmount lazy",i.current,c.current)}}),[]),(0,n.h)("div",{className:"Root",ref:i},(0,n.h)("select",{onChange:function(n){return a(n.target.value)}},(0,n.h)("option",{key:"HAHAH@#$%#@#@][",value:"A",selected:"A"===u},"Layout A"),(0,n.h)("option",{key:1234,value:"B",selected:"B"===u},"Layout B")),(0,n.h)("div",{style:{marginTop:"100px"}},(0,n.h)("span",null,"Hi,"),"A"===u&&(0,n.h)("=",null,(0,n.h)(o,{myRef:c},(0,n.h)("b",null,"My")),(0,n.h)("=",null,(0,n.h)("=",null,(0,n.h)("i",null,"name"),(0,n.h)("span",null,(0,n.h)("u",null,"is"))))),"B"===u&&(0,n.h)("=",null,(0,n.h)("b",null,"I"),(0,n.h)(o,{myRef:c},(0,n.h)("=",null,(0,n.h)("i",null,(0,n.h)("=",null,"am"))))),(0,n.h)(o,null,(0,n.h)("=",null,(0,n.h)("a",null,"Quyet")))))}function u(){return console.timeEnd("mount"),null}function a(){return(0,n.d4)((function(){console.log("effect root")}),[]),[(0,n.h)(l,null),(0,n.h)(u,null)]}console.time("stack"),console.time("mount"),(0,n.LI)((0,n.h)(a,null),document.getElementById("sandbox-container")),setTimeout((function(){(0,n.LI)((0,n.h)(a,null),document.getElementById("sandbox-container"))}),3e3),console.timeEnd("stack")})()})();