Object.defineProperty(exports,"__esModule",{value:1});const n=Object.create(null);let t=null,u=null,l=null,o=null;function i(n,u){return e(),l=r(n,l,t.t),null===t.t&&(t.t=l),u(l)}function r(n,u,l){if(null===u)return null===l?n(t):l;if(null===u.u){const l=n(t);return u.u=l,l}return u.u}function e(){if(null===t)throw new Error("Cannot use hooks from outside of components")}function f(n){this.current=n}function c(n){this.l=new f(n),this.u=null}const s=Object.prototype.hasOwnProperty,h=Array.prototype.slice;function a(n){return"string"==typeof n}function p(n){return"number"==typeof n}function d(n){return"function"==typeof n}function w(n){return null!==n&&"object"==typeof n}function v(n){return n.children}function m(n,t,u){this.o=n,this.i=u,this.h=null,this.p=t,this.v=null,this.t=null,this.m=null,this.g=null,this.M=null,this.T=null,this.j=null,this.O=null,this.A=null,this.C=null,this.S=null}function x(n,t){n.g=t,void 0!==n.p.ref&&(n.p.ref.current=t)}function y(t,u,l){let o=null;null===u?u=n:(void 0!==u.key&&(o=p(u.key)?""+u.key:u.key,delete u.key),void 0===u.ref||u.ref instanceof f||delete u.ref);const i=new m(t,u,o);if(arguments.length>2){const u=arguments.length>3;u&&(l=h.call(arguments,2)),d(t)?(i.p===n&&(i.p={}),i.p.children=l):"#"===t?(i.p===n&&(i.p={}),i.p.children=""+l):g(i,u?l:[l])}return i}function b(t){if(t instanceof m)return t;if(a(t))return new m("#",{children:t},null);if(p(t))return new m("#",{children:""+t},null);if(t instanceof Array){const u=new m("[",n,null);return g(u,t),u}return null}function g(n,t){let u,l=null,o=0;for(;o<t.length;++o)u=b(t[o]),null!==u&&(u.T=n,u.h=o,null!==l?l.O=u:n.j=u,l=u)}function M(n,t){n["%vnode"]=t}function T(n){for(;;){if(null===n)return null;if(null!==n.g)return n;n=n.T}}function j(n,t,u){k(n,t,u,E,O)}function E(t,u,l,o){if(""!==(u=A(u))){if("style"===u)return w(l)||(l=n),w(o)||(o=n),void C(t[u],l,o);if(F(u,l)&&t.setAttribute(u,l),u in t)try{return void(t[u]=l)}catch(n){}}}function O(t,u,l){if(""!==(u=A(u))){if("style"===u)return w(l)&&C(t[u],n,l),void t.removeAttribute(u);if(F(u,l)&&t.removeAttribute(u),u in t)try{t[u]=null}catch(n){}}}function A(n){return"className"===n?"class":/^on[A-Z]/.test(n)?n.toLowerCase():n}function C(n,t,u){k(n,t,u,S,_)}function S(n,t,u){n[t]=u}function _(n,t){n[t]=""}function k(n,t,u,l,o){let i;for(i in u)D(u,i)&&(D(t,i)||o(n,i,u[i]));for(i in t)D(t,i)&&l(n,i,t[i],u[i])}function D(n,t){return s.call(n,t)&&void 0!==n[t]&&null!==n[t]}function F(n,t){return"innerHTML"===n||"innerText"===n||"textContent"===n?0:a(t)||p(t)?1:0}function G(t){if(t.M=H(t),L(t.o))return;const u=function(t){if("#"===t.o)return u=t.p.children,document.createTextNode(u);var u;return function(t,u,l){const o=1===t?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u);return j(o,l,n),o}(t.M,t.o,t.p)}(t);x(t,u)}function H(n){return"svg"===n.o?1:1===n.T.M&&"foreignObject"===n.T.o?0:n.T.M}function L(n){return"["===n||d(n)}function N(n,t){if(function(n,t){var u,l;n.M=H(n),L(n.o)||(x(n,t.g),"#"===n.o?n.p.children!==t.p.children&&(u=n.g,l=n.p.children,u.textContent=l):j(n.g,n.p,t.p))}(n,t),null!==n.g){const t=T(n.T);null!==t&&(t.S=n.g)}}function V(n,t,u){this._=n,this.k=t,this.D=z.bind(this),this.F=u,this.u=null}const Z=new Map;let q=null;function z(n){console.log("--",this._.o.name,"setState");let t,u=this;if(d(n))try{t=n(u.k)}catch(n){return void J(n,u._)}else t=n;if((1!==u.F||I(t))&&t!==u.k){u.k=t;let l=Z.get(this._);void 0===l?(l=[[n,this]],Z.set(this._,l)):l.unshift([n,this]),null!==q&&clearTimeout(q),q=setTimeout(B)}}function B(){Z.forEach((function(n){let t,u;for(;n.length>0;)t=n.pop(),u=t[1];console.log("--",u._.o.name,"updateTree"),ln(u._)})),Z.clear(),q=null}function I(n){return null===n||n instanceof Error?1:0}function J(n,t){let u,l=t.T;for(;null!==l;){for(u=l.t;null!==u;){if(1===u.F)return void u.D((function(t){return t||n}));u=u.u}l=l.T}throw n}function K(n,t,u,l){this.G=n,this.H=t,this.L=null,this.F=u,this.N=l,this.V=null,this.Z=null,this.u=null}function P(n,u,l){return void 0===u&&(u=null),i=function(){const t=X(u,null);return new K(n,u,l,t)},f=function(n){n.L=u},e(),o=r(i,o,t.m),null===t.m&&(t.m=o),f(o);var i,f}function Q(n,t,u){0===n&&console.log("--",t.o.name,"mountEffects");let l=t.m;for(;null!==l;){if(l.F===n){const n=X(l.H,l.L);if(u||0===n||3===n)try{U(l)}catch(n){J(n,t)}}l=l.u}}function R(n,t,u){let l=t.m;for(;null!==l;){if(l.F===n&&(null!==l.Z||null!==l.V)){const n=X(l.H,l.L);if(u||0===n||3===n)try{W(l,u)}catch(n){J(n,t)}}l=l.u}}function U(n){n.V=n.G(),n.H=n.L,void 0===n.V&&(n.V=null)}function W(n,t){n.H=n.L,null===n.Z||t?null!==n.V&&n.V():n.Z()}function X(n,t){return null===n?0:0===n.length?1:null===t||function(n,t){if(n.length!==t.length)return 0;for(let u=n.length-1;u>=0;--u)if(n[u]!==t[u])return 0;return 1}(n,t)?2:3}function Y(n,i){d(n.o)?function(n,i){const r=i?n.j:null!==n.A?n.A.j:null;let e;f=n,t=f;var f;try{e=n.o(n.p)}catch(t){J(t,n),e=null}t=null,u=null,l=null,o=null;const c=b(e);null!==c&&(c.T=n);null!==r&&(null!==c&&c.o===r.o&&c.i===r.i?$(c,r):nn(n,r));n.j=c}(n,i):null!==n.A&&function(n,t){const u=tn(t),l=tn(n);let o;u.forEach((function(t,u){o=l.get(u),void 0!==o&&o.o===t.o?$(o,t):nn(n,t)}))}(n,n.A)}function $(n,t){if(n.A=t,d(n.o)){n.v=t.v,n.t=t.t;let u=n.t;for(;null!==u;)u._=n,u=u.u;let l=n.m,o=t.m;for(;null!==l;)o.G=l.G,l=l.u,o=o.u;n.m=t.m}}function nn(n,t){null===n.C?n.C=[t]:n.C.push(t)}function tn(n){const t=new Map;let u=n.j;for(;null!==u;)null!==u.i?t.set(u.i,u):t.set(u.h,u),u=u.O;return t}const un=new DocumentFragment;function ln(n){console.log("==================================",n.o.name);const t=new Map,u=new Map,l=T(n),o=l.g;l.g=un,en(on,rn,n,t,u),o.appendChild(un),l.g=o,u.forEach((function(n,t){R(1,t,n)})),t.forEach((function(n,t){Q(1,t,n)})),setTimeout((function(){console.log("-- ======= mountEffects"),u.forEach((function(n,t){R(0,t,n)})),t.forEach((function(n,t){Q(0,t,n)}))}))}function on(n,t,u,l){const o=n===t;if(Y(n,o),n.o!==v&&(o?null!==n.m&&(l.set(n,0),u.set(n,0)):null!==n.A?(N(n,n.A),null!==n.m&&(l.set(n.A,0),u.set(n,0)),n.A=null):(!function(n){if(G(n),null!==n.g){const t=T(n.T);if(null!==t){const u=null!==t.S?t.S.nextSibling:t.g.firstChild;t.g.insertBefore(n.g,u),t.S=n.g}}}(n),null!==n.m&&u.set(n,1))),null!==n.C){for(let t=0;t<n.C.length;++t)(function(n,t){const u=n;for(;;){if(null!==n.g)t(n.g);else if(null!==n.j){n=n.j;continue}if(n===u)return;for(;null===n.O;){if(null===n.T||n.T===u)return;n=n.T}n=n.O}})(n.C[t],(function(n){null!==n.parentNode&&n.parentNode.removeChild(n)})),en((function(n){null!==n.m&&l.set(n,1)}),null,n.C[t]);n.C=null}}function rn(n){null!==n.S&&(n.S=null)}function en(n,t,u,l,o){let i=u;for(;;)if(n(i,u,l,o),null===i.j){if(i===u)return;for(;null===i.O;){if(null===i.T||i.T===u)return;i=i.T,null!==t&&t(i)}i=i.O}else i=i.j}function fn(n,t){let u;return(u=t["%vnode"])||(u=new m(v,{},null),u.M="ownerSVGElement"in t?1:0,x(u,t),M(t,u)),u.p.children=n,u}exports.Fragment="[",exports.Ref=f,exports.TextNode="#",exports.createElement=y,exports.createPortal=fn,exports.jsx=y,exports.render=function(n,t){ln(fn(n,t))},exports.useEffect=function(n,t){return P(n,t,0)},exports.useError=function(n){return i((function(t){return I(n)||(n=null),new V(t,n,1)}),(function(n){return[n.k,n.D]}))},exports.useLayoutEffect=function(n,t){return P(n,t,1)},exports.useRef=function(n){return l=function(){return new c(n)},o=function(n){return n.l},e(),u=r(l,u,t.v),null===t.v&&(t.v=u),o(u);var l,o},exports.useState=function(n){return i((function(t){return new V(t,n,0)}),(function(n){return[n.k,n.D]}))};
