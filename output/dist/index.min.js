"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t={},n=[];function e(t,n){this.Component=t,this.props=n,this.hooks=[],this.virtualNode=null}function o(t,n,e,o){this.type=t,this.props=n,this.key=e,this.ref=o,this.fiber=null,this.parent=null,this.children=[],this.path=[],this.viewNode=null,this.viewNS=null}function r(t,n){t.viewNode=n,t.ref instanceof i&&(t.ref.current=n)}function i(t){this.current=t}function l(t,n){this.value=t,this.setValue=n}function u(t,n,e){this.tag=0,this.callback=t,this.deps=n,this.destroy=void 0,this.lastDestroy=e}function s(t,n,e){this.parent=t,this.routeFromParent=n,this.current=e}let c=null,f=-1,a=0;let h=0;let p=0;function d(t){return t.join("/")}function v(n,e){t[d(n)]=e}function w(n){delete t[d(n)]}function y(){if(null===c)throw new Error("Cannot call hooks from outside of the component");return c}function N(t,n=!1){return null===t?1:0===t.length?2:!1===n||function(t,n){for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}(t,n)?3:4}function g(t,n){t.hooks.forEach((t=>{var e;t instanceof u&&((n||1===t.tag||4===t.tag)&&((e=t).destroy=e.callback()))}))}function k(t,n){t.hooks.forEach((t=>{t instanceof u&&(void 0!==t.lastDestroy||void 0!==t.destroy)&&(n||1===t.tag||4===t.tag)&&function(t,n=!1){void 0===t.lastDestroy||n?void 0!==t.destroy&&t.destroy():t.lastDestroy()}(t,n)}))}function m(t){const n={},e=t=>{n[d(t.path)]=t,t.children.forEach((t=>{e(t)}))};return e(t),n}function x(t,n=!1){const e=(t,n=null)=>{if("#txt"===t.type)return t;const o=t.fiber;if(null===o)return t.children.forEach((n=>{e(n,t)})),t;{!function(t){c=t,f=-1}(o);const r=o.Component(o.props);if(c=null,f=-1,C(r,t.path),o.virtualNode=r,r.fiber=o,r.parent=n,t.ref instanceof i&&(r.ref=t.ref),null!==n){const e=n.children.indexOf(t);e>=0&&(n.children[e]=r)}return r.children.forEach((t=>{e(t,r)})),r}},o=e(t,t.parent);E();const l=n?{}:m(t),u=m(o);return function(t,n){for(let e in t)if(O(t,e)){const o=!O(n,e),r=t[e],i=r.fiber;null!==i&&(k(i,o),o&&w(r.path))}}(l,u),function(t){const n=t=>{"svg"===t.type?t.viewNS="svg":null!==t.parent?t.viewNS=t.parent.viewNS:t.viewNS="html";let e=null;if("#txt"===t.type)e=document.createTextNode(t.text);else if("#frg"===t.type);else if(V(t.type)){let n=null;"svg"===t.viewNS&&(n="http://www.w3.org/2000/svg"),e=function(t,n,e){const o=null!==t?document.createElementNS(t,n):document.createElement(n);return j(o,e),o}(n,t.type,t.props),e.Hook$VirtualNode=t}r(t,e),t.children.forEach((t=>{n(t)}))};n(t)}(o),function(t,n){(function(t,n){let e="";for(let o in t)if(O(t,o)&&!O(n,o)&&!o.startsWith(e+"/")){P(t[o]),e=o}})(t,n),function(t,n){Object.keys({...t,...n}).forEach((e=>{if(O(t,e)&&O(n,e)){const o=t[e],i=n[e];r(i,o.viewNode);{const{viewNode:t,props:n,type:e}=i;"#txt"===e?i.text!==o.text&&(t.textContent=i.text):j(t,n)}}}))}(t,n),function(t,n){let e=[];for(let o in n)O(n,o)&&(O(t,o)?(S(e,t[o]),e.length=0):e.push(n[o]));e.length>0&&S(e,null)}(t,n)}(l,u),function(t,n){for(let e in n)if(O(n,e)){const o=!O(t,e),r=n[e].fiber;null!==r&&g(r,o)}}(l,u),o}function b(t,e,...r){const{key:i=null,ref:l=null,...u}=e,c=new o(t,u,i,l);return function(t,e){const r=function(e,r){let i;var l;V(e)||("number"==typeof(l=e)||l instanceof Number)?(i=new o("#txt",{},null,null),i.text=String(e)):i=e,i instanceof o&&(t.children.push(i),n.push(new s(t,r,i)))},i=function(t,n){T(t)?t.forEach((function(t,e){i(t,[...n,e])})):r(t,n)};i(e,[])}(c,r),c}function C(t,e=[]){const o=new s(null,[],t);let r=n.slice(0),i=[...e];const l=(n,e)=>{const o=i.length;var u,s;e!==t&&(i.push(...n.routeFromParent),null!==e.key&&(i.pop(),i.push((s=e.key,"@"+encodeURIComponent(s)))),null!==e.fiber?i.push((O(u=e.fiber.Component,"Hook$ComponentType")||(u.Hook$ComponentType="$"+ ++h),u.Hook$ComponentType)):i.push(e.type)),r=r.filter((t=>t.parent!==n.current||(l(t,t.current),!1))),e.path=[...i],e.parent=n.parent,void 0!==e.resolvePath&&(e.resolvePath(),delete e.resolvePath),i.length=o};return l(o,t),t}function E(){n.length=0}function S(t,n){const e=n&&H(n)[0]||null;t.forEach((t=>{if(null!==t.viewNode){const n=$(t);null!==e&&n===e.parentNode?n.insertBefore(t.viewNode,e):n.appendChild(t.viewNode)}}))}function P(t){H(t).forEach((t=>{null!==t.parentNode&&t.parentNode.removeChild(t)}))}function $(t){return null===t.parent?null:null===t.parent.viewNode?$(t.parent):t.parent.viewNode}function H(t){return null!==t.viewNode?[t.viewNode]:t.children.reduce(((t,n)=>t.concat(H(n))),[])}function j(t,n){for(let e in n)O(n,e)&&D(t,e,n[e])}function D(t,n,e){const[o,r]=function(t,n){if(I(n))return[t.toLowerCase(),n];if("class"===t||"className"===t)return T(n)?["class",n.filter((t=>V(t))).join(" ")]:["class",n];return[t,n]}(n,e);if("style"!==o)I(r)||function(t){return!0===t||!1===t||t instanceof Boolean}(r)?t[o]=r:void 0!==r&&t.setAttribute(o,r);else for(let n in r)O(r,n)&&void 0!==r[n]&&(t.style[n]=r[n])}function O(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function V(t){return"string"==typeof t||t instanceof String}function I(t){return t instanceof Function}function T(t){return t instanceof Array}exports.h=function(n,r,...i){return r=r||{},null===n?b("#frg",r,...i):I(n)?function(n,r,...i){const{key:l=null,ref:u=null,...s}=r;s.children=i;const c=[--p],f=new e(n,s);v(c,f);const a=new o(null,s,l,u);return a.resolvePath=()=>{w(c);const n=function(n){const e=d(n);return O(t,e)?t[e]:null}(a.path);n?(n.props=f.props,n.virtualNode=a,a.fiber=n):v(a.path,f)},a.fiber=f,f.virtualNode=a,a}(n,r,...i):b(n,r,...i)},exports.render=function(t,n){var e;C(t,[(e=n,O(e,"Hook$ContainerId")||(e.Hook$ContainerId="~"+ ++a),e.Hook$ContainerId)]),E();const i=new o(n.nodeName.toLowerCase(),{},null,null);r(i,n),t.parent=i,n.ownerSVGElement?i.viewNS="svg":i.viewNS="html",x(t,!0)},exports.useEffect=function(t,n=null){const e=y();if(f++,e.hooks.length>f){const o=e.hooks[f];if((null!==n||null!==o.deps)&&n.length!==o.deps.length)throw new Error("Deps must be size-fixed");const r=N(n,o.deps);if(2===r)return;if(3===r)return void(o.tag=r);if(1===r||4===r){const i=new u(t,n,o.destroy);return i.tag=r,void(e.hooks[f]=i)}return}const o=new u(t,n);o.tag=N(n),e.hooks.push(o)},exports.useRef=function(t){const n=y();if(f++,n.hooks.length>f)return n.hooks[f];const e=new i(t);return n.hooks.push(e),e},exports.useState=function(t){const n=y();if(f++,n.hooks.length>f){const t=n.hooks[f];return[t.value,t.setValue]}const e=new l(t,(t=>{let o;o=I(t)?t(e.value):t,o!==e.value&&(e.value=o,x(n.virtualNode))}));return n.hooks.push(e),[e.value,e.setValue]};
