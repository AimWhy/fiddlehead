"use strict";function n(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function t(n){return"string"==typeof n||n instanceof String}function e(n){return"number"==typeof n||n instanceof Number}function o(n){return n instanceof Function}function l(n){return n instanceof Array}function r(n){return null==n}Object.defineProperty(exports,"__esModule",{value:!0});let s=null,u=-1;function i(){if(null===s)throw new Error("Cannot call hooks from outside of the component");return[s,++u]}function c(n){this.current=n}function f(n,t,e,o){this.type=n,this.props=t,this.key=e,this.ref=o,this.hooks=[],this.parent=null,this.children=[],this.path=[],this.posInRow=null,this.ns=null,this.nativeNode=null,this.text=null}function a(n,t){n.nativeNode=t,n.ref instanceof c&&(n.ref.current=t)}function h(n){if(n instanceof f)return n;if(t(n)||e(n)){const t=new f("#txt",{},null,null);return t.text=String(n),t}if(l(n)){const t=new f("#arr",{},null,null);for(let e=0;e<n.length;e++){const o=h(n[e]);null!==o&&(o.parent=t,o.posInRow=e,t.children.push(o))}return t}return null}function p(n,t,...e){const{key:o=null,ref:l=null,...r}=t,s=new f(n,r,o,l);for(let n=0;n<e.length;n++){const t=h(e[n]);null!==t&&(t.parent=s,t.posInRow=n,s.children.push(t))}return s}function d(n){return n.join("/")}let y=0;let g=0;function k(t){return n(t,"Hook$ContainerId")||(t.Hook$ContainerId="~"+(++g).toString(36)),t.Hook$ContainerId}function v(t){return n(t,"Hook$ComponentType")||(t.Hook$ComponentType=function(n){return n.name+"]"+(++y).toString(36)}(t)),t.Hook$ComponentType}function w(n,t){n.Hook$VirtualNode=t}const m=Object.create(null);function N(n){delete m[d(n)]}function x(t,e,o){for(let l in o)n(o,l)&&r(e[l])&&b(t,l,o[l]);for(let l in e)n(e,l)&&C(t,l,e[l],o[l])}function b(n,t,e){const[o,l]=I(t,e);r(l)||n.removeAttribute(o)}function C(o,l,s,u){const[i,c]=I(l,s);if(!r(c))if("style"!==i){if((t(c)||e(c))&&o.setAttribute(i,c),i in o)try{o[i]=c}catch(n){}}else{if(!r(u)){const[,t]=I(l,u);if(!r(t))for(let e in t)n(t,e)&&!n(c,e)&&(o.style[e]="")}for(let t in c)n(c,t)&&(r(c[t])||(o.style[t]=c[t]))}}function I(n,e){return o(e)?[n.toLowerCase(),e]:"className"===n?l(e)?["class",e.filter((n=>t(n))).join(" ")]:["class",e]:"class"===n?(console.error("className instead of class"),[n]):"style"!==n||r(e)||function(n){return!!n&&n.constructor===Object}(e)?[n,e]:(console.error("Style must be a plain object",e),[n])}function j(n){"svg"===n.type?n.ns="svg":null!==n.parent?n.ns=n.parent.ns:n.ns="html";let e=null;if("#txt"===n.type)o=n.text,e=document.createTextNode(o);else if("#frg"===n.type||"#arr"===n.type);else if(t(n.type)){let t=null;"svg"===n.ns&&(t="http://www.w3.org/2000/svg"),e=function(n,t,e){const o=null!==n?document.createElementNS(n,t):document.createElement(t);return x(o,e,{}),o}(t,n.type,n.props),w(e,n)}var o;a(n,e);for(let t=0;t<n.children.length;t++)j(n.children[t])}function R(t,e){!function(t,e){let o="";for(let l in t)if(n(t,l)&&!n(e,l)&&!l.startsWith(o+"/")){const n=t[l];null!==n.nativeNode&&(E(n),o=l)}}(t,e),function(t,e){const o=Object.keys({...t,...e});for(let l=0;l<o.length;l++){const r=o[l];if(n(t,r)&&n(e,r)){const n=e[r];if(null!==n.nativeNode){const e=t[r];a(n,e.nativeNode),"#txt"===n.type?n.text!==e.text&&(n.nativeNode.textContent=n.text):x(n.nativeNode,n.props,e.props)}}}}(t,e),function(t,e){let o=[];for(let l in e)if(n(e,l))if(n(t,l))S(o,t[l]),o.length=0;else{const n=e[l];null!==n.nativeNode&&o.push(n)}o.length>0&&S(o,null)}(t,e)}function S(n,t){const e=t&&O(t)[0]||null;for(let t=0;t<n.length;t++){const o=n[t];if(null!==o.nativeNode){const n=H(o);null!==n&&(null!==e&&n===e.parentNode?n.insertBefore(o.nativeNode,e):n.appendChild(o.nativeNode))}}}function E(n){const t=O(n);for(let n=0;n<t.length;n++){const e=t[n];null!==e.parentNode&&e.parentNode.removeChild(e)}}function H(n){return null===n.parent?null:null===n.parent.nativeNode?H(n.parent):n.parent.nativeNode}function O(n){return null!==n.nativeNode?[n.nativeNode]:n.children.reduce(((n,t)=>n.concat(O(t))),[])}function $(n,t,e){this.tag=D,this.callback=n,this.deps=t,this.destroy=null,this.lastDestroy=e}const D=0;function V(n,t){for(let o=0;o<n.hooks.length;o++){const l=n.hooks[o];l instanceof $&&((t||1===l.tag||4===l.tag)&&((e=l).destroy=e.callback()))}var e}function T(n,t){for(let e=0;e<n.hooks.length;e++){const o=n.hooks[e];o instanceof $&&(null!==o.lastDestroy||null!==o.destroy)&&((t||1===o.tag||4===o.tag)&&A(o,t))}}function A(n,t=!1){null===n.lastDestroy||t?null!==n.destroy&&n.destroy():n.lastDestroy()}function L(n,t=!1){return null===n?1:0===n.length?2:!1===t||function(n,t){for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}(n,t)?3:4}function P(t,e){const l=e?{}:z(t);_(t);const r=z(t);!function(t,e){for(let l in t)if(n(t,l)){const r=!n(e,l),s=t[l];o(s.type)&&(T(s,r),r&&N(s.path))}}(l,r),j(t),R(l,r),function(t,e){for(let l in e)if(n(e,l)){const r=!n(t,l),s=e[l];o(s.type)&&V(s,r)}}(l,r)}function _(n){if("#txt"===n.type)return;if(!o(n.type)){for(let t=0;t<n.children.length;t++)_(n.children[t]);return}s=n,u=-1;const t=h(n.type(n.props));s=null,u=-1,null!==t&&(t.parent=n,t.posInRow=0,n.children[0]=t,F(n),_(t))}function z(n){const t=Object.create(null),e=n=>{t[d(n.path)]=n;for(let t=0;t<n.children.length;t++)e(n.children[t])};return e(n),t}function B(n,t,e){this.value=n,this.setValue=t,this.context=e}function F(n){for(let t=0;t<n.children.length;t++)G(n.children[t],n.path)}function G(t,e){const l=[...e];var r,s,u;if(null!==t.key?l.push((r=t.key,"@"+encodeURIComponent(r))):l.push(t.posInRow),o(t.type)?l.push(v(t.type)):l.push(t.type),t.path=l,o(t.type)){const e=function(t){const e=d(t);return n(m,e)?m[e]:null}(t.path);if(null!==e){t.hooks=e;for(let n=0;n<t.hooks.length;n++){const e=t.hooks[n];e instanceof B&&(e.context=t)}}s=t.path,u=t.hooks,m[d(s)]=u}for(let n=0;n<t.children.length;n++)G(t.children[n],l)}exports.h=function(n,t,...e){return t=t||{},null===n?p("#frg",t,...e):o(n)?function(n,t,...e){const{key:o=null,ref:l=null,...r}=t;return r.children=e,new f(n,r,o,l)}(n,t,...e):p(n,t,...e)},exports.mount=function(n,t){if(t.firstChild)throw new Error("Container must be empty");const e=new f(t.nodeName.toLowerCase(),{},null,null);a(e,t),w(t,e),t.ownerSVGElement?e.ns="svg":e.ns="html",n.parent=e,n.posInRow=0,e.children[0]=n,e.path=[k(t)],F(e),P(n,!0)},exports.useEffect=function(n,t=null){const[e,o]=i();if(e.hooks.length>o){const l=e.hooks[o];if((null!==t||null!==l.deps)&&t.length!==l.deps.length)throw new Error("Deps must be size-fixed");const r=L(t,l.deps);if(2===r)return;if(3===r)return void(l.tag=r);if(1===r||4===r){const s=new $(n,t,l.destroy);return s.tag=r,void(e.hooks[o]=s)}return}const l=new $(n,t,null);l.tag=L(t),e.hooks.push(l)},exports.useRef=function(n){const[t,e]=i();if(t.hooks.length>e)return t.hooks[e];const o=new c(n);return t.hooks.push(o),o},exports.useState=function(n){const[t,e]=i();if(t.hooks.length>e){const n=t.hooks[e];return[n.value,n.setValue]}const l=new B(n,(n=>{let t;t=o(n)?n(l.value):n,t!==l.value&&(l.value=t,P(l.context,!1))}),t);return t.hooks.push(l),[l.value,l.setValue]};
