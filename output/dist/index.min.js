"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t={},n=[];function e(t,n,e,o){this.type=t,this.props=n,this.key=e,this.ref=o,this.hooks=[],this.parent=null,this.children=[],this.path=[],this.viewNode=null,this.ns=null}function o(t,n){t.viewNode=n,t.ref instanceof r&&(t.ref.current=n)}function r(t){this.current=t}function s(t,n){this.value=t,this.setValue=n}function l(t,n,e){this.tag=0,this.callback=t,this.deps=n,this.destroy=void 0,this.lastDestroy=e}function i(t,n,e){this.parent=t,this.routeFromParent=n,this.current=e}let u=null,c=-1,f=0;let a=0;let h=0;function p(t){return t.join("/")}function d(n,e){t[p(n)]=e}function y(n){delete t[p(n)]}function v(){if(null===u)throw new Error("Cannot call hooks from outside of the component");return u}function w(t,n=!1){return null===t?1:0===t.length?2:!1===n||function(t,n){for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}(t,n)?3:4}function g(t,n){t.hooks.forEach((t=>{var e;t instanceof l&&((n||1===t.tag||4===t.tag)&&((e=t).destroy=e.callback()))}))}function k(t,n){t.hooks.forEach((t=>{t instanceof l&&(void 0!==t.lastDestroy||void 0!==t.destroy)&&(n||1===t.tag||4===t.tag)&&function(t,n=!1){void 0===t.lastDestroy||n?void 0!==t.destroy&&t.destroy():t.lastDestroy()}(t,n)}))}function m(t){const n={},e=t=>{n[p(t.path)]=t,t.children.forEach((t=>{e(t)}))};return e(t),n}function N(t){if("#txt"!==t.type)if(F(t.type)){u=t,c=-1;const n=t.type(t.props);u=null,c=-1,b(n,t.path),n.parent=t,t.children[0]=n,N(n)}else t.children.forEach((t=>{N(t)}))}function x(t,n=!1){const e=n?{}:m(t);N(t,t.parent),C();const r=m(t);!function(t,n){for(let e in t)if(I(t,e)){const o=!I(n,e),r=t[e];F(r.type)&&(k(r,o),o&&y(r.path))}}(e,r),function(t){const n=t=>{"svg"===t.type?t.ns="svg":null!==t.parent?t.ns=t.parent.ns:t.ns="html";let e=null;if("#txt"===t.type)e=document.createTextNode(t.text);else if("#frg"===t.type);else if(T(t.type)){let n=null;"svg"===t.ns&&(n="http://www.w3.org/2000/svg"),e=function(t,n,e){const o=null!==t?document.createElementNS(t,n):document.createElement(n);return D(o,e,{}),o}(n,t.type,t.props),e.Hook$VirtualNode=t}o(t,e),t.children.forEach((t=>{n(t)}))};n(t)}(t),function(t,n){(function(t,n){let e="";for(let o in t)if(I(t,o)&&!I(n,o)&&!o.startsWith(e+"/")){$(t[o]),e=o}})(t,n),function(t,n){Object.keys({...t,...n}).forEach((e=>{if(I(t,e)&&I(n,e)){const r=t[e],s=n[e];o(s,r.viewNode),"#txt"===s.type?s.text!==r.text&&(s.viewNode.textContent=s.text):D(s.viewNode,s.props,r.props)}}))}(t,n),function(t,n){let e=[];for(let o in n)I(n,o)&&(I(t,o)?(P(e,t[o]),e.length=0):e.push(n[o]));e.length>0&&P(e,null)}(t,n)}(e,r),function(t,n){for(let e in n)if(I(n,e)){const o=!I(t,e),r=n[e];F(r.type)&&g(r,o)}}(e,r)}function E(t,o,...r){const{key:s=null,ref:l=null,...u}=o,c=new e(t,u,s,l);return function(t,o){const r=function(o,r){let s;T(o)||A(o)?(s=new e("#txt",{},null,null),s.text=String(o)):s=o,s instanceof e&&(t.children.push(s),n.push(new i(t,r,s)))},s=function(t,n){L(t)?t.forEach((function(t,e){s(t,[...n,e])})):r(t,n)};s(o,[])}(c,r),c}function b(t,e=[]){const o=new i(null,[],t);let r=n.slice(0),s=[...e];const l=(n,e)=>{const o=s.length;var i,u;e!==t&&(s.push(...n.routeFromParent),null!==e.key&&(s.pop(),s.push((u=e.key,"@"+encodeURIComponent(u)))),F(e.type)?s.push((I(i=e.type,"Hook$ComponentType")||(i.Hook$ComponentType=i.name+"$"+ ++a),i.Hook$ComponentType)):s.push(e.type)),r=r.filter((t=>t.parent!==n.current||(l(t,t.current),!1))),e.path=[...s],e.parent=n.parent,void 0!==e.resolvePath&&(e.resolvePath(),delete e.resolvePath),s.length=o};return l(o,t),t}function C(){n.length=0}function P(t,n){const e=n&&H(n)[0]||null;t.forEach((t=>{if(null!==t.viewNode){const n=j(t);null!==n&&(null!==e&&n===e.parentNode?n.insertBefore(t.viewNode,e):n.appendChild(t.viewNode))}}))}function $(t){H(t).forEach((t=>{null!==t.parentNode&&t.parentNode.removeChild(t)}))}function j(t){return null===t.parent?null:null===t.parent.viewNode?j(t.parent):t.parent.viewNode}function H(t){return null!==t.viewNode?[t.viewNode]:t.children.reduce(((t,n)=>t.concat(H(n))),[])}function D(t,n,e){for(let o in e)I(e,o)&&R(n[o])&&O(t,o,e[o]);for(let o in n)I(n,o)&&S(t,o,n[o],e[o])}function O(t,n,e){const[o,r]=V(n,e);R(r)||t.removeAttribute(o)}function S(t,n,e,o){const[r,s]=V(n,e);if(!R(s))if("style"!==r){if((T(s)||A(s))&&t.setAttribute(r,s),r in t)try{t[r]=s}catch(t){}}else{const[,e]=V(n,o);if(!R(e))for(let n in e)I(e,n)&&!I(s,n)&&(t.style[n]="");for(let n in s)I(s,n)&&(R(s[n])||(t.style[n]=s[n]))}}function V(t,n){return F(n)?[t.toLowerCase(),n]:"className"===t?L(n)?["class",n.filter((t=>T(t))).join(" ")]:["class",n]:"class"===t?(console.error("className instead of class"),[t]):"style"!==t||function(t){return!!t&&t.constructor===Object}(n)?[t,n]:(console.error("style must be a plain object"),[t])}function I(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function T(t){return"string"==typeof t||t instanceof String}function A(t){return"number"==typeof t||t instanceof Number}function F(t){return t instanceof Function}function L(t){return t instanceof Array}function R(t){return null==t}exports.h=function(n,o,...r){return o=o||{},null===n?E("#frg",o,...r):F(n)?function(n,o,...r){const{key:s=null,ref:l=null,...i}=o;i.children=r;const u=[--h],c=new e(n,i,s,l);return d(u,c),c.resolvePath=()=>{y(u);const n=function(n){const e=p(n);return I(t,e)?t[e]:null}(c.path);n&&(c.hooks=n.hooks),d(c.path,c)},c}(n,o,...r):E(n,o,...r)},exports.render=function(t,n){var r;b(t,[(r=n,I(r,"Hook$ContainerId")||(r.Hook$ContainerId="~"+ ++f),r.Hook$ContainerId)]),C();const s=new e(n.nodeName.toLowerCase(),{},null,null);o(s,n),t.parent=s,n.ownerSVGElement?s.ns="svg":s.ns="html",x(t,!0)},exports.useEffect=function(t,n=null){const e=v();if(c++,e.hooks.length>c){const o=e.hooks[c];if((null!==n||null!==o.deps)&&n.length!==o.deps.length)throw new Error("Deps must be size-fixed");const r=w(n,o.deps);if(2===r)return;if(3===r)return void(o.tag=r);if(1===r||4===r){const s=new l(t,n,o.destroy);return s.tag=r,void(e.hooks[c]=s)}return}const o=new l(t,n);o.tag=w(n),e.hooks.push(o)},exports.useRef=function(t){const n=v();if(c++,n.hooks.length>c)return n.hooks[c];const e=new r(t);return n.hooks.push(e),e},exports.useState=function(t){const n=v();if(c++,n.hooks.length>c){const t=n.hooks[c];return[t.value,t.setValue]}const e=new s(t,(t=>{let o;o=F(t)?t(e.value):t,o!==e.value&&(e.value=o,x(n))}));return n.hooks.push(e),[e.value,e.setValue]};
