"use strict";function t(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function n(t){return"string"==typeof t||t instanceof String}function e(t){return"number"==typeof t||t instanceof Number}function o(t){return t instanceof Function}function r(t){return t instanceof Array}function s(t){return null==t}function i(t,n,e){this.parent=t,this.routeFromParent=n,this.current=e}Object.defineProperty(exports,"__esModule",{value:!0});const l=[];function u(){return[...l]}let c=null,f=-1;function a(){if(null===c)throw new Error("Cannot call hooks from outside of the component");return[c,++f]}function h(t){this.current=t}function p(t,n,e,o){this.type=t,this.props=n,this.key=e,this.ref=o,this.hooks=[],this.parent=null,this.children=[],this.path=[],this.viewNode=null,this.ns=null}function d(t,n){t.viewNode=n,t.ref instanceof h&&(t.ref.current=n)}let y=0;function v(t){return t.join("/")}const w={};function g(t,n){w[v(t)]=n}function k(t){delete w[v(t)]}function m(t,n,...e){const{key:o=null,ref:r=null,...s}=n,i=new p(t,s,o,r);return N(i,e),i}function N(t,n,e=[]){r(n)?n.forEach((function(n,o){N(t,n,[...e,o])})):x(t,n,e)}const x=function(t,o,r){let s;var u;n(o)||e(o)?(s=new p("#txt",{},null,null),s.text=String(o)):s=o,s instanceof p&&(t.children.push(s),u=new i(t,r,s),l.push(u))};function E(n,e,o){for(let r in o)t(o,r)&&s(e[r])&&b(n,r,o[r]);for(let r in e)t(e,r)&&C(n,r,e[r],o[r])}function b(t,n,e){const[o,r]=P(n,e);s(r)||t.removeAttribute(o)}function C(o,r,i,l){const[u,c]=P(r,i);if(!s(c))if("style"!==u){if((n(c)||e(c))&&o.setAttribute(u,c),u in o)try{o[u]=c}catch(t){}}else{if(!s(l)){const[,n]=P(r,l);if(!s(n))for(let e in n)t(n,e)&&!t(c,e)&&(o.style[e]="")}for(let n in c)t(c,n)&&(s(c[n])||(o.style[n]=c[n]))}}function P(t,e){return o(e)?[t.toLowerCase(),e]:"className"===t?r(e)?["class",e.filter((t=>n(t))).join(" ")]:["class",e]:"class"===t?(console.error("className instead of class"),[t]):"style"!==t||s(e)||function(t){return!!t&&t.constructor===Object}(e)?[t,e]:(console.error("style must be a plain object",e),[t])}let $=0;let j=0;function H(n,e=[]){const r=new i(null,[],n);let s=u(),l=[...e];const c=(e,r)=>{const i=l.length;var u,f;r!==n&&(l.push(...e.routeFromParent),null!==r.key&&(l.pop(),l.push((f=r.key,"@"+encodeURIComponent(f)))),o(r.type)?l.push((t(u=r.type,"Hook$ComponentType")||(u.Hook$ComponentType=u.name+"$"+ ++j),u.Hook$ComponentType)):l.push(r.type)),s=s.filter((t=>t.parent!==e.current||(c(t,t.current),!1))),r.path=[...l],r.parent=e.parent,void 0!==r.resolvePath&&(r.resolvePath(),delete r.resolvePath),l.length=i};return c(r,n),n}function D(){l.length=0}function O(t){"svg"===t.type?t.ns="svg":null!==t.parent?t.ns=t.parent.ns:t.ns="html";let e=null;if("#txt"===t.type)o=t.text,e=document.createTextNode(o);else if("#frg"===t.type);else if(n(t.type)){let n=null;"svg"===t.ns&&(n="http://www.w3.org/2000/svg"),e=function(t,n,e){const o=null!==t?document.createElementNS(t,n):document.createElement(n);return E(o,e,{}),o}(n,t.type,t.props),e.Hook$VirtualNode=t}var o;d(t,e),t.children.forEach((t=>{O(t)}))}function S(n,e){!function(n,e){let o="";for(let r in n)if(t(n,r)&&!t(e,r)&&!r.startsWith(o+"/")){I(n[r]),o=r}}(n,e),function(n,e){Object.keys({...n,...e}).forEach((o=>{if(t(n,o)&&t(e,o)){const t=n[o],r=e[o];d(r,t.viewNode),"#txt"===r.type?r.text!==t.text&&(r.viewNode.textContent=r.text):E(r.viewNode,r.props,t.props)}}))}(n,e),function(n,e){let o=[];for(let r in e)t(e,r)&&(t(n,r)?(V(o,n[r]),o.length=0):o.push(e[r]));o.length>0&&V(o,null)}(n,e)}function V(t,n){const e=n&&A(n)[0]||null;t.forEach((t=>{if(null!==t.viewNode){const n=T(t);null!==n&&(null!==e&&n===e.parentNode?n.insertBefore(t.viewNode,e):n.appendChild(t.viewNode))}}))}function I(t){A(t).forEach((t=>{null!==t.parentNode&&t.parentNode.removeChild(t)}))}function T(t){return null===t.parent?null:null===t.parent.viewNode?T(t.parent):t.parent.viewNode}function A(t){return null!==t.viewNode?[t.viewNode]:t.children.reduce(((t,n)=>t.concat(A(n))),[])}function F(t,n,e){this.tag=L,this.callback=t,this.deps=n,this.destroy=void 0,this.lastDestroy=e}const L=0;function R(t,n){t.hooks.forEach((t=>{var e;t instanceof F&&((n||1===t.tag||4===t.tag)&&((e=t).destroy=e.callback()))}))}function _(t,n){t.hooks.forEach((t=>{t instanceof F&&(void 0!==t.lastDestroy||void 0!==t.destroy)&&(n||1===t.tag||4===t.tag)&&function(t,n=!1){if(void 0!==t.lastDestroy&&!n)return void t.lastDestroy();void 0!==t.destroy&&t.destroy()}(t,n)}))}function z(t,n=!1){return null===t?1:0===t.length?2:!1===n||function(t,n){for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}(t,n)?3:4}function B(n,e=!1){const r=e?{}:M(n);G(n),D();const s=M(n);!function(n,e){for(let r in n)if(t(n,r)){const s=!t(e,r),i=n[r];o(i.type)&&(_(i,s),s&&k(i.path))}}(r,s),O(n),S(r,s),function(n,e){for(let r in e)if(t(e,r)){const s=!t(n,r),i=e[r];o(i.type)&&R(i,s)}}(r,s)}function G(t){if("#txt"!==t.type)if(o(t.type)){c=t,f=-1;const n=t.type(t.props);c=null,f=-1,H(n,t.path),n.parent=t,t.children[0]=n,G(n)}else t.children.forEach((t=>{G(t)}))}function M(t){const n={},e=t=>{n[v(t.path)]=t,t.children.forEach((t=>{e(t)}))};return e(t),n}function U(t,n){this.value=t,this.setValue=n}exports.h=function(n,e,...r){return e=e||{},null===n?m("#frg",e,...r):o(n)?function(n,e,...o){const{key:r=null,ref:s=null,...i}=e;i.children=o;const l=[--y],u=new p(n,i,r,s);return g(l,u),u.resolvePath=()=>{k(l);const n=function(n){const e=v(n);return t(w,e)?w[e]:null}(u.path);n&&(u.hooks=n.hooks),g(u.path,u)},u}(n,e,...r):m(n,e,...r)},exports.mount=function(n,e){var o;H(n,[(o=e,t(o,"Hook$ContainerId")||(o.Hook$ContainerId="~"+ ++$),o.Hook$ContainerId)]),D();const r=new p(e.nodeName.toLowerCase(),{},null,null);d(r,e),n.parent=r,e.ownerSVGElement?r.ns="svg":r.ns="html",B(n,!0)},exports.useEffect=function(t,n=null){const[e,o]=a();if(e.hooks.length>o){const r=e.hooks[o];if((null!==n||null!==r.deps)&&n.length!==r.deps.length)throw new Error("Deps must be size-fixed");const s=z(n,r.deps);if(2===s)return;if(3===s)return void(r.tag=s);if(1===s||4===s){const i=new F(t,n,r.destroy);return i.tag=s,void(e.hooks[o]=i)}return}const r=new F(t,n);r.tag=z(n),e.hooks.push(r)},exports.useRef=function(t){const[n,e]=a();if(n.hooks.length>e)return n.hooks[e];const o=new h(t);return n.hooks.push(o),o},exports.useState=function(t){const[n,e]=a();if(n.hooks.length>e){const t=n.hooks[e];return[t.value,t.setValue]}const r=new U(t,(t=>{let e;e=o(t)?t(r.value):t,e!==r.value&&(r.value=e,B(n))}));return n.hooks.push(r),[r.value,r.setValue]};
