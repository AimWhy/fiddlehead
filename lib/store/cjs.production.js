Object.defineProperty(exports,"__esModule",{value:!0});var t=require("hook");exports.createStore=function(t){if(null===t||"object"!=typeof t)throw new Error("Store data must be an object");const n=t,e=new Set;return{get data(){return n},setData(t){t(n),e.forEach((function(t){t(n)}))},subscribe:e.add.bind(e),unsubscribe:e.delete.bind(e)}},exports.useReadableStore=function(n,e,o){const[r,u]=t.useState(e(n.data));return t.useEffect((function(){const t=function(t){u(void 0===o?e(t):function(n){const r=e(t);return o(n,r)?n:r})};return n.subscribe(t),function(){n.unsubscribe(t)}}),[n,e,o]),r},exports.useWritableStore=function(t,n){return function(e){t.setData((function(t){n(t,e)}))}};
