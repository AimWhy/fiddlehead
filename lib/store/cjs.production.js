Object.defineProperty(exports,"__esModule",{value:!0});var e=require("hook");exports.createStore=e=>{if(null==e||e.constructor!==Object)throw new Error("Store data must be a plain object");let t=e,r=new Set;return{get data(){return t},setData(e){e(t),r.forEach((e=>{e(t)}))},subscribe:r.add.bind(r),unsubscribe:r.delete.bind(r)}},exports.useReadableStore=(t,r,u)=>{let o=e.useState(r(t.data));return e.useEffect((()=>{let e=e=>{void 0===u?o[1](r(e)):o[1]((t=>{let o=r(e);return u(t,o)?t:o}))};return t.subscribe(e),()=>{t.unsubscribe(e)}}),[t,r,u]),o[0]},exports.useWritableStore=(e,t)=>r=>{e.setData((e=>{t(e,r)}))};
