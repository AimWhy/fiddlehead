import{useState as n,useEffect as t}from"hook";var r=function(n){if(null==n||n.constructor!==Object)throw new Error("Store data must be a plain object");var t=n,r=new Set;return{get data(){return t},setData:function(n){n(t),r.forEach((function(n){n(t)}))},subscribe:r.add.bind(r),unsubscribe:r.delete.bind(r)}},u=function(r,u,o){var e=n(u(r.data));return t((function(){var n=function(n){void 0===o?e[1](u(n)):e[1]((function(t){var r=u(n);return o(t,r)?t:r}))};return r.subscribe(n),function(){r.unsubscribe(n)}}),[r,u,o]),e[0]},o=function(n,t){return function(r){n.setData((function(n){t(n,r)}))}};export{r as createStore,u as useReadableStore,o as useWritableStore};
